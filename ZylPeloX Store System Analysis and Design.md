# üìë Y√™u c·∫ßu chi ti·∫øt d·ª± √°n ZylPeloXStore (ZPX) - VERSION 1.0

**M√£ d·ª± √°n:** ZPX-ECOM
**Ng√†y kh·ªüi t·∫°o:** 10-02-2023
**Ng√†y c·∫≠p nh·∫≠t:** 14-04-2025
**T√°c gi·∫£:** phamtiendungcw
**Phi√™n b·∫£n:** 1.0

## 1. üéØ T·ªîNG QUAN D·ª∞ √ÅN

### 1.1. M·ª•c ti√™u

X√¢y d·ª±ng n·ªÅn t·∫£ng c·ª≠a h√†ng b√°n l·∫ª tr·ª±c tuy·∫øn ZylPeloXStore (ZPX) v·ªõi ki·∫øn tr√∫c hi·ªán ƒë·∫°i, t√≠ch h·ª£p ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng qu·∫£n l√Ω t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi, ƒë√°p ·ª©ng nhu c·∫ßu kinh doanh ƒëa k√™nh v·ªõi kh·∫£ nƒÉng m·ªü r·ªông cao v√† b·∫£o tr√¨ d·ªÖ d√†ng.

> **_Ch√∫ th√≠ch:_** _D·ª± √°n nh·∫±m t·∫°o ra m·ªôt n·ªÅn t·∫£ng eCommerce to√†n di·ªán, kh√¥ng ch·ªâ ƒë√°p ·ª©ng nhu c·∫ßu hi·ªán t·∫°i m√† c√≤n c√≥ kh·∫£ nƒÉng m·ªü r·ªông trong t∆∞∆°ng lai._

### 1.2. Ph·∫°m vi

- **H·ªá th·ªëng qu·∫£n l√Ω b√°n h√†ng v√† t·ªìn kho to√†n di·ªán**: Theo d√µi s·∫£n ph·∫©m, ƒë∆°n h√†ng v√† t·ªìn kho theo th·ªùi gian th·ª±c
- **N·ªÅn t·∫£ng eCommerce ƒë·∫ßy ƒë·ªß ch·ª©c nƒÉng**: Tr·∫£i nghi·ªám mua s·∫Øm tr·ª±c tuy·∫øn li·ªÅn m·∫°ch cho kh√°ch h√†ng
- **T√≠ch h·ª£p thanh to√°n v√† v·∫≠n chuy·ªÉn**: H·ªó tr·ª£ nhi·ªÅu ph∆∞∆°ng th·ª©c thanh to√°n v√† ƒë·ªëi t√°c v·∫≠n chuy·ªÉn
- **H·ªá th·ªëng CRM v√† qu·∫£n l√Ω kh√°ch h√†ng**: Qu·∫£n l√Ω th√¥ng tin v√† t∆∞∆°ng t√°c v·ªõi kh√°ch h√†ng
- **Dashboard qu·∫£n tr·ªã v√† b√°o c√°o**: C√¥ng c·ª• ph√¢n t√≠ch d·ªØ li·ªáu v√† b√°o c√°o to√†n di·ªán

> **_Ch√∫ th√≠ch:_** _D·ª± √°n s·∫Ω bao g·ªìm c·∫£ backend v√† frontend, API ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ d·ªÖ d√†ng m·ªü r·ªông v√† t√≠ch h·ª£p v·ªõi c√°c h·ªá th·ªëng kh√°c._

### 1.3. Gi·ªõi h·∫°n

- **Kh·ªëi l∆∞·ª£ng d·ªØ li·ªáu v√† truy c·∫≠p**: H·ªá th·ªëng ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ x·ª≠ l√Ω kh·ªëi l∆∞·ª£ng d·ªØ li·ªáu v√† ng∆∞·ªùi d√πng t·ª´ trung b√¨nh ƒë·∫øn l·ªõn (l√™n ƒë·∫øn 100,000 s·∫£n ph·∫©m, 50,000 ng∆∞·ªùi d√πng ƒë·ªìng th·ªùi)
- **Th·ªùi gian ph√°t tri·ªÉn d·ª± ki·∫øn**: 6-9 th√°ng cho phi√™n b·∫£n MVP, v·ªõi l·ªô tr√¨nh ph√°t tri·ªÉn ti·∫øp theo ƒë∆∞·ª£c chia th√†nh c√°c giai ƒëo·∫°n
- **Quy m√¥ nh√≥m ph√°t tri·ªÉn**: Y√™u c·∫ßu ƒë·ªôi ng≈© 5-8 ng∆∞·ªùi bao g·ªìm backend, frontend, QA v√† DevOps

> **_Ch√∫ th√≠ch:_** _C√°c gi·ªõi h·∫°n ƒë∆∞·ª£c x√°c ƒë·ªãnh ƒë·ªÉ ƒë·∫∑t k·ª≥ v·ªçng r√µ r√†ng v√† ƒë·∫£m b·∫£o vi·ªác l·∫≠p k·∫ø ho·∫°ch t√†i nguy√™n ph√π h·ª£p._

## 2. üõçÔ∏è T√çNH NƒÇNG H·ªÜ TH·ªêNG

### 2.1. Qu·∫£n l√Ω Catalog

- **S·∫£n ph·∫©m v√† bi·∫øn th·ªÉ**
  - T·∫°o/s·ª≠a/x√≥a/kh√¥i ph·ª•c s·∫£n ph·∫©m v·ªõi giao di·ªán qu·∫£n tr·ªã tr·ª±c quan
  - Qu·∫£n l√Ω bi·∫øn th·ªÉ kh√¥ng gi·ªõi h·∫°n (m√†u s·∫Øc, k√≠ch th∆∞·ªõc, v.v.)
  - Th√¥ng s·ªë k·ªπ thu·∫≠t v√† m√¥ t·∫£ ƒëa d·∫°ng v·ªõi ƒë·ªãnh d·∫°ng phong ph√∫ (rich text)
  - Gi√° c·∫£ v√† thu·∫ø c√≥ th·ªÉ c·∫•u h√¨nh theo khu v·ª±c

> **_Ch√∫ th√≠ch:_** _H·ªá th·ªëng s·∫Ω h·ªó tr·ª£ s·∫£n ph·∫©m ƒë∆°n gi·∫£n v√† s·∫£n ph·∫©m c√≥ nhi·ªÅu bi·∫øn th·ªÉ. M·ªói bi·∫øn th·ªÉ c√≥ th·ªÉ c√≥ gi√°, m√£ SKU v√† t·ªìn kho ri√™ng._

- **Danh m·ª•c**
  - C·∫•u tr√∫c danh m·ª•c ƒëa c·∫•p kh√¥ng gi·ªõi h·∫°n ƒë·ªô s√¢u
  - S·∫£n ph·∫©m c√≥ th·ªÉ thu·ªôc nhi·ªÅu danh m·ª•c kh√°c nhau
  - SEO t·ªëi ∆∞u cho t·ª´ng danh m·ª•c (meta title, description, URL)

> **_Ch√∫ th√≠ch:_** _Danh m·ª•c s·∫Ω ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi hi·ªáu su·∫•t cao, ƒë·∫£m b·∫£o th·ªùi gian ph·∫£n h·ªìi nhanh ngay c·∫£ khi c√≥ h√†ng ngh√¨n s·∫£n ph·∫©m._

- **Qu·∫£n l√Ω ph∆∞∆°ng ti·ªán**
  - Th∆∞ vi·ªán h√¨nh ·∫£nh/video t·∫≠p trung v·ªõi b·ªô l·ªçc v√† t√¨m ki·∫øm
  - T·ªëi ∆∞u h√≥a h√¨nh ·∫£nh t·ª± ƒë·ªông (n√©n, thay ƒë·ªïi k√≠ch th∆∞·ªõc, chuy·ªÉn ƒë·ªïi ƒë·ªãnh d·∫°ng)
  - H·ªó tr·ª£ CDN ƒë·ªÉ tƒÉng t·ªëc t·∫£i trang

> **_Ch√∫ th√≠ch:_** _H·ªá th·ªëng s·∫Ω s·ª≠ d·ª•ng d·ªãch v·ª• l∆∞u tr·ªØ ƒë√°m m√¢y cho media ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông._

### 2.2. Qu·∫£n l√Ω Kh√°ch h√†ng

- **H·ªì s∆° kh√°ch h√†ng chi ti·∫øt**: Th√¥ng tin c√° nh√¢n, l·ªãch s·ª≠ mua h√†ng, s·ªü th√≠ch
- **Ph√¢n nh√≥m kh√°ch h√†ng v√† tags**: Ph√¢n lo·∫°i kh√°ch h√†ng ƒë·ªÉ ti·∫øp th·ªã v√† ph√¢n t√≠ch
- **L·ªãch s·ª≠ mua h√†ng v√† t∆∞∆°ng t√°c**: Theo d√µi to√†n b·ªô h√†nh tr√¨nh kh√°ch h√†ng
- **H·ªá th·ªëng ƒë√°nh gi√° v√† ƒëi·ªÉm th∆∞·ªüng**: Khuy·∫øn kh√≠ch kh√°ch h√†ng quay l·∫°i
- **Qu·∫£n l√Ω ƒë·ªãa ch·ªâ giao h√†ng/thanh to√°n**: H·ªó tr·ª£ nhi·ªÅu ƒë·ªãa ch·ªâ cho m·ªói kh√°ch h√†ng

> **_Ch√∫ th√≠ch:_** _Module n√†y s·∫Ω t√≠ch h·ª£p v·ªõi h·ªá th·ªëng CRM ƒë·ªÉ cung c·∫•p c√°i nh√¨n 360 ƒë·ªô v·ªÅ kh√°ch h√†ng._

### 2.3. Qu·∫£n l√Ω Kho h√†ng

- **Theo d√µi t·ªìn kho theo th·ªùi gian th·ª±c**: C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng t·ªìn kho ngay khi c√≥ thay ƒë·ªïi
- **Nh·∫≠p/xu·∫•t kho v·ªõi l·ªãch s·ª≠ ƒë·∫ßy ƒë·ªß**: Theo d√µi m·ªçi thay ƒë·ªïi t·ªìn kho
- **Qu·∫£n l√Ω nhi·ªÅu kho v√† v·ªã tr√≠**: H·ªó tr·ª£ m√¥ h√¨nh kinh doanh ph√¢n t√°n
- **C·∫£nh b√°o t·ªìn kho th·∫•p**: Th√¥ng b√°o khi s·∫£n ph·∫©m g·∫ßn h·∫øt h√†ng
- **B√°o c√°o t·ªìn kho v√† gi√° tr·ªã h√†ng h√≥a**: Ph√¢n t√≠ch gi√° tr·ªã t·ªìn kho theo th·ªùi gian

> **_Ch√∫ th√≠ch:_** _H·ªá th·ªëng kho s·∫Ω ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ x·ª≠ l√Ω c·∫£ quy tr√¨nh th·ªß c√¥ng v√† t·ª± ƒë·ªông, t√≠ch h·ª£p v·ªõi c√°c thi·∫øt b·ªã qu√©t m√£ v·∫°ch n·∫øu c·∫ßn._

### 2.4. Qu·∫£n l√Ω V·∫≠n chuy·ªÉn

- **T√≠ch h·ª£p nhi·ªÅu ƒë·ªëi t√°c v·∫≠n chuy·ªÉn**: API-based integration v·ªõi c√°c ƒë∆°n v·ªã v·∫≠n chuy·ªÉn ph·ªï bi·∫øn
- **Ma tr·∫≠n ph√≠ v·∫≠n chuy·ªÉn t√πy ch·ªânh**: X√°c ƒë·ªãnh ph√≠ v·∫≠n chuy·ªÉn d·ª±a tr√™n khu v·ª±c, tr·ªçng l∆∞·ª£ng, gi√° tr·ªã
- **Theo d√µi tr·∫°ng th√°i v·∫≠n chuy·ªÉn**: C·∫≠p nh·∫≠t theo th·ªùi gian th·ª±c v·ªÅ t√¨nh tr·∫°ng ƒë∆°n h√†ng
- **In ·∫•n v·∫≠n ƒë∆°n v√† ƒë√≥ng g√≥i**: T·ª± ƒë·ªông t·∫°o v√† in v·∫≠n ƒë∆°n
- **X·ª≠ l√Ω ho√†n h√†ng**: Quy tr√¨nh ho√†n h√†ng v√† ho√†n ti·ªÅn ƒë·∫ßy ƒë·ªß

> **_Ch√∫ th√≠ch:_** _Module n√†y s·∫Ω cung c·∫•p API m·ªü ƒë·ªÉ d·ªÖ d√†ng t√≠ch h·ª£p v·ªõi c√°c nh√† cung c·∫•p d·ªãch v·ª• v·∫≠n chuy·ªÉn m·ªõi._

### 2.5. Qu·∫£n l√Ω Thanh to√°n

- **ƒêa d·∫°ng ph∆∞∆°ng th·ª©c thanh to√°n**: H·ªó tr·ª£ th·∫ª t√≠n d·ª•ng, chuy·ªÉn kho·∫£n, v√≠ ƒëi·ªán t·ª≠, COD
- **X·ª≠ l√Ω thanh to√°n an to√†n**: Tu√¢n th·ªß PCI DSS v√† ti√™u chu·∫©n b·∫£o m·∫≠t
- **L·ªãch s·ª≠ giao d·ªãch v√† ho√†n ti·ªÅn**: Theo d√µi ƒë·∫ßy ƒë·ªß c√°c giao d·ªãch t√†i ch√≠nh
- **H·ªó tr·ª£ tr·∫£ g√≥p v√† thanh to√°n m·ªôt ph·∫ßn**: Linh ho·∫°t trong c√°c ph∆∞∆°ng th·ª©c thanh to√°n
- **X√°c th·ª±c thanh to√°n**: T√≠ch h·ª£p 3D Secure v√† c√°c ph∆∞∆°ng th·ª©c x√°c th·ª±c hi·ªán ƒë·∫°i

> **_Ch√∫ th√≠ch:_** _H·ªá th·ªëng thanh to√°n s·∫Ω ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi t√≠nh m·ªü r·ªông cao, cho ph√©p th√™m m·ªõi c√°c c·ªïng thanh to√°n d·ªÖ d√†ng._

### 2.6. Qu·∫£n l√Ω ƒê∆°n h√†ng

- **Quy tr√¨nh x·ª≠ l√Ω ƒë∆°n h√†ng linh ho·∫°t**: T√πy ch·ªânh quy tr√¨nh theo nhu c·∫ßu kinh doanh
- **Tr·∫°ng th√°i ƒë∆°n h√†ng t√πy ch·ªânh**: T·∫°o v√† qu·∫£n l√Ω c√°c tr·∫°ng th√°i ƒë∆°n h√†ng theo y√™u c·∫ßu
- **L·ªãch s·ª≠ thay ƒë·ªïi ƒë∆°n h√†ng**: Theo d√µi m·ªçi thay ƒë·ªïi trong v√≤ng ƒë·ªùi ƒë∆°n h√†ng
- **ƒê∆°n h√†ng d·ª± tr·ªØ v√† ƒë·∫∑t tr∆∞·ªõc**: H·ªó tr·ª£ ƒë·∫∑t h√†ng tr∆∞·ªõc khi s·∫£n ph·∫©m c√≥ s·∫µn
- **B√°n h√†ng ch√©o v√† b√°n th√™m**: ƒê·ªÅ xu·∫•t s·∫£n ph·∫©m li√™n quan khi ƒë·∫∑t h√†ng

> **_Ch√∫ th√≠ch:_** _Module ƒë∆°n h√†ng l√† trung t√¢m c·ªßa h·ªá th·ªëng, t√≠ch h·ª£p v·ªõi t·∫•t c·∫£ c√°c module kh√°c ƒë·ªÉ cung c·∫•p tr·∫£i nghi·ªám xuy√™n su·ªët._

### 2.7. Khuy·∫øn m√£i & Gi·∫£m gi√°

- **M√£ gi·∫£m gi√° v√† voucher**: T·∫°o v√† qu·∫£n l√Ω c√°c m√£ gi·∫£m gi√° v·ªõi nhi·ªÅu ƒëi·ªÅu ki·ªán
- **Ch∆∞∆°ng tr√¨nh khuy·∫øn m√£i theo th·ªùi gian**: L√™n l·ªãch khuy·∫øn m√£i t·ª± ƒë·ªông
- **Gi·∫£m gi√° theo nh√≥m kh√°ch h√†ng**: Gi√° ƒë·∫∑c bi·ªát cho kh√°ch h√†ng VIP
- **Gi·∫£m gi√° theo s·ªë l∆∞·ª£ng**: Gi·∫£m gi√° khi mua s·ªë l∆∞·ª£ng l·ªõn
- **Qu√† t·∫∑ng v√† s·∫£n ph·∫©m k√®m theo**: Th√™m s·∫£n ph·∫©m qu√† t·∫∑ng v√†o ƒë∆°n h√†ng

> **_Ch√∫ th√≠ch:_** _H·ªá th·ªëng khuy·∫øn m√£i ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ h·ªó tr·ª£ c√°c chi·∫øn d·ªãch marketing ph·ª©c t·∫°p v·ªõi nhi·ªÅu quy t·∫Øc k·∫øt h·ª£p._

### 2.8. N·ªôi dung & Marketing

- **Blog v√† b√†i vi·∫øt**: H·ªá th·ªëng qu·∫£n l√Ω n·ªôi dung t√≠ch h·ª£p
- **Landing page v√† banner qu·∫£ng c√°o**: T·∫°o v√† qu·∫£n l√Ω c√°c trang ƒë√≠ch cho chi·∫øn d·ªãch
- **SEO tools v√† metadata**: T·ªëi ∆∞u h√≥a n·ªôi dung cho c√¥ng c·ª• t√¨m ki·∫øm
- **Email marketing templates**: T·∫°o v√† g·ª≠i email marketing t·ª´ h·ªá th·ªëng
- **ƒê√°nh gi√° v√† b√¨nh lu·∫≠n s·∫£n ph·∫©m**: Thu th·∫≠p ph·∫£n h·ªìi c·ªßa kh√°ch h√†ng

> **_Ch√∫ th√≠ch:_** _Module n√†y s·∫Ω cung c·∫•p c√°c c√¥ng c·ª• ƒë·ªÉ qu·∫£n l√Ω n·ªôi dung v√† t·ªëi ∆∞u h√≥a SEO m·ªôt c√°ch hi·ªáu qu·∫£._

### 2.9. Nh√¢n vi√™n & Ph√¢n quy·ªÅn

- **Qu·∫£n l√Ω ng∆∞·ªùi d√πng v√† vai tr√≤**: T·∫°o v√† qu·∫£n l√Ω t√†i kho·∫£n nh√¢n vi√™n
- **Ph√¢n quy·ªÅn chi ti·∫øt theo ch·ª©c nƒÉng**: Ki·ªÉm so√°t quy·ªÅn truy c·∫≠p ƒë·∫øn c·∫•p ƒë·ªô h√†nh ƒë·ªông
- **Theo d√µi ho·∫°t ƒë·ªông ng∆∞·ªùi d√πng**: Ghi l·∫°i m·ªçi thay ƒë·ªïi v√† h√†nh ƒë·ªông trong h·ªá th·ªëng
- **X√°c th·ª±c hai l·ªõp**: TƒÉng c∆∞·ªùng b·∫£o m·∫≠t cho t√†i kho·∫£n quan tr·ªçng
- **Gi·ªõi h·∫°n theo IP v√† th·ªùi gian**: Ki·ªÉm so√°t th·ªùi gian v√† ƒë·ªãa ƒëi·ªÉm truy c·∫≠p

> **_Ch√∫ th√≠ch:_** _H·ªá th·ªëng ph√¢n quy·ªÅn s·∫Ω ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ linh ho·∫°t v√† chi ti·∫øt, cho ph√©p t·∫°o c√°c vai tr√≤ t√πy ch·ªânh theo nhu c·∫ßu c·ª• th·ªÉ c·ªßa doanh nghi·ªáp._

## 3. üõ†Ô∏è KI·∫æN TR√öC & C√îNG NGH·ªÜ

### 3.1. Stack C√¥ng ngh·ªá

- **Backend**: ASP.NET Core 6 (v·ªõi kh·∫£ nƒÉng n√¢ng c·∫•p l√™n phi√™n b·∫£n m·ªõi nh·∫•t)
- **Frontend**: Angular 16 (v·ªõi t√™n project "zpx-ui" theo chu·∫©n kebab-case)
- **Database**: SQL Server (h·ªó tr·ª£ ph√¢n v√πng cho hi·ªáu su·∫•t cao)
- **Cache**: Redis + HybridCache (k·∫øt h·ª£p memory cache v√† distributed cache)
- **Search**: Elasticsearch (t√πy ch·ªçn, ƒë·ªÉ t·ªëi ∆∞u h√≥a t√¨m ki·∫øm)
- **Message Queue**: RabbitMQ (t√πy ch·ªçn, cho x·ª≠ l√Ω b·∫•t ƒë·ªìng b·ªô)

> **_Ch√∫ th√≠ch:_** _Stack c√¥ng ngh·ªá ƒë∆∞·ª£c ch·ªçn ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† kh·∫£ nƒÉng m·ªü r·ªông. C√°c c√¥ng ngh·ªá n√†y c√≥ c·ªông ƒë·ªìng l·ªõn v√† h·ªó tr·ª£ d√†i h·∫°n._

### 3.2. Ki·∫øn tr√∫c Ph·∫ßn m·ªÅm

- **Clean Architecture**
  - Domain-centric: ƒê·∫∑t logic nghi·ªáp v·ª• ·ªü trung t√¢m
  - T√°ch bi·ªát c√°c m·ªëi quan t√¢m: Domain, Application, Infrastructure, Presentation
  - Dependency Rule: C√°c ph·ª• thu·ªôc ch·ªâ h∆∞·ªõng v√†o trong (domain core)

> **_Ch√∫ th√≠ch:_** _Clean Architecture gi√∫p t·∫°o ra code d·ªÖ b·∫£o tr√¨, d·ªÖ test v√† ƒë·ªôc l·∫≠p v·ªõi c√°c framework, database hay UI._

- **Domain-Driven Design**
  - Aggregate Roots: X√°c ƒë·ªãnh ranh gi·ªõi nh·∫•t qu√°n c·ªßa d·ªØ li·ªáu
  - Bounded Context: Ph√¢n chia h·ªá th·ªëng th√†nh c√°c ng·ªØ c·∫£nh c√≥ √Ω nghƒ©a
  - Entity v√† Value Objects: Ph√¢n bi·ªát r√µ r√†ng gi·ªØa c√°c ƒë·ªëi t∆∞·ª£ng c√≥ danh t√≠nh v√† kh√¥ng c√≥ danh t√≠nh

> **_Ch√∫ th√≠ch:_** _DDD gi√∫p m√¥ h√¨nh h√≥a c√°c domain ph·ª©c t·∫°p v√† ƒë·∫£m b·∫£o r·∫±ng code ph·∫£n √°nh ƒë√∫ng business rules._

- **Modular Monolith**
  - Kh·∫£ nƒÉng chuy·ªÉn ƒë·ªïi sang Microservices sau n√†y
  - Module separation: T√°ch bi·ªát r√µ r√†ng gi·ªØa c√°c module
  - Shared kernel: Chia s·∫ª c√°c kh√°i ni·ªám chung gi·ªØa c√°c module

> **_Ch√∫ th√≠ch:_** _Modular Monolith l√† l·ª±a ch·ªçn c√¢n b·∫±ng gi·ªØa t√≠nh ƒë∆°n gi·∫£n c·ªßa monolith v√† t√≠nh linh ho·∫°t c·ªßa microservices._

### 3.3. Design Patterns

- **CQRS v·ªõi MediatR**
  - Commands (Write): Thay ƒë·ªïi tr·∫°ng th√°i h·ªá th·ªëng
  - Queries (Read): Truy v·∫•n d·ªØ li·ªáu, kh√¥ng thay ƒë·ªïi tr·∫°ng th√°i
  - Notifications (Events): Th√¥ng b√°o s·ª± ki·ªán ƒë·∫øn c√°c handler kh√°c nhau

> **_Ch√∫ th√≠ch:_** _CQRS gi√∫p t√°ch bi·ªát logic ƒë·ªçc v√† ghi, cho ph√©p t·ªëi ∆∞u h√≥a ri√™ng cho m·ªói lo·∫°i, ƒë·∫∑c bi·ªát h·ªØu √≠ch cho h·ªá th·ªëng c√≥ t·ªâ l·ªá ƒë·ªçc/ghi ch√™nh l·ªách._

- **Repository & Specification Pattern**
  - Generic Repository: Interface chung cho vi·ªác truy xu·∫•t d·ªØ li·ªáu
  - Specification abstraction: ƒê√≥ng g√≥i logic truy v·∫•n

> **_Ch√∫ th√≠ch:_** _Repository pattern gi√∫p t√°ch bi·ªát logic truy c·∫≠p d·ªØ li·ªáu kh·ªèi domain logic, trong khi Specification pattern gi√∫p t√°i s·ª≠ d·ª•ng v√† k·∫øt h·ª£p c√°c ƒëi·ªÅu ki·ªán truy v·∫•n._

- **Domain Events**
  - Event publishing: Ph√°t h√†nh s·ª± ki·ªán khi c√≥ thay ƒë·ªïi trong domain
  - Event handling: X·ª≠ l√Ω c√°c t√°c ƒë·ªông ph·ª• do s·ª± ki·ªán g√¢y ra

> **_Ch√∫ th√≠ch:_** _Domain Events cho ph√©p c√°c ph·∫ßn kh√°c nhau c·ªßa h·ªá th·ªëng ph·∫£n ·ª©ng v·ªõi nh·ªØng thay ƒë·ªïi m√† kh√¥ng c·∫ßn k·∫øt n·ªëi tr·ª±c ti·∫øp, gi√∫p gi·∫£m s·ª± ph·ª• thu·ªôc._

### 3.4. Packages & Libraries

#### 3.4.1. Backend (.NET)

- **MediatR**: Tri·ªÉn khai CQRS v√† x·ª≠ l√Ω s·ª± ki·ªán
- **FluentValidation**: Validation d·ª±a tr√™n fluent interface
- **AutoMapper**: Mapping gi·ªØa c√°c ƒë·ªëi t∆∞·ª£ng
- **FluentResults**: X·ª≠ l√Ω k·∫øt qu·∫£ v·ªõi nhi·ªÅu tr·∫°ng th√°i
- **Serilog**: Logging c√≥ c·∫•u tr√∫c
- **Ardalis.Specification**: Tri·ªÉn khai pattern Specification
- **EFCore.BulkExtensions**: T·ªëi ∆∞u c√°c thao t√°c h√†ng lo·∫°t
- **BCrypt.Net-Next**: M√£ h√≥a m·∫≠t kh·∫©u
- **Swashbuckle**: T√†i li·ªáu API (Swagger)

> **_Ch√∫ th√≠ch:_** _C√°c th∆∞ vi·ªán ƒë∆∞·ª£c ch·ªçn d·ª±a tr√™n ƒë·ªô tin c·∫≠y, hi·ªáu su·∫•t v√† m·ª©c ƒë·ªô h·ªó tr·ª£ t·ªët t·ª´ c·ªông ƒë·ªìng._

#### 3.4.2. Frontend (Angular)

- **Angular Material**: Th√†nh ph·∫ßn UI
- **NgRx**: Qu·∫£n l√Ω state
- **RxJS**: L·∫≠p tr√¨nh reactive
- **Angular Flex Layout**: Layout ph·∫£n h·ªìi
- **NgxTranslate**: ƒêa ng√¥n ng·ªØ

> **_Ch√∫ th√≠ch:_** _C√°c th∆∞ vi·ªán frontend ƒë∆∞·ª£c ch·ªçn ƒë·ªÉ cung c·∫•p tr·∫£i nghi·ªám ng∆∞·ªùi d√πng nh·∫•t qu√°n v√† hi·ªáu su·∫•t cao._

## 4. üß© THI·∫æT K·∫æ DOMAIN

### 4.1. Entities & Base Classes

- **BaseEntity**

    ```csharp
    public abstract class BaseEntity
    {
        public Guid Id { get; protected set; }
    }
    ```

> **_Ch√∫ th√≠ch:_** _BaseEntity l√† l·ªõp c∆° s·ªü cho t·∫•t c·∫£ c√°c entity, ƒë·ªãnh nghƒ©a m·ªôt kh√≥a ch√≠nh d·∫°ng GUID._

- **BaseAuditableEntity**

    ```csharp
    public abstract class BaseAuditableEntity : BaseEntity
    {
        public DateTime CreatedAt { get; set; }
        public string CreatedBy { get; set; }
        public DateTime? LastModifiedAt { get; set; }
        public string LastModifiedBy { get; set; }
        public bool IsDeleted { get; set; }
        public DateTime? DeletedAt { get; set; }
        public string DeletedBy { get; set; }
    }
    ```

> **_Ch√∫ th√≠ch:_** _BaseAuditableEntity m·ªü r·ªông t·ª´ BaseEntity, th√™m c√°c tr∆∞·ªùng theo d√µi th·ªùi gian t·∫°o, c·∫≠p nh·∫≠t v√† x√≥a m·ªÅm (soft delete)._

### 4.2. Aggregate Roots

- **Product Aggregate**
  - Product (Aggregate Root): Th√¥ng tin c∆° b·∫£n v·ªÅ s·∫£n ph·∫©m
  - ProductVariant: C√°c bi·∫øn th·ªÉ c·ªßa s·∫£n ph·∫©m (m√†u s·∫Øc, k√≠ch c·ª°,...)
  - ProductAttribute: Thu·ªôc t√≠nh s·∫£n ph·∫©m (nh∆∞ ch·∫•t li·ªáu, xu·∫•t x·ª©,...)
  - ProductImage: H√¨nh ·∫£nh s·∫£n ph·∫©m
  - ProductSpecification: Th√¥ng s·ªë k·ªπ thu·∫≠t chi ti·∫øt

> **_Ch√∫ th√≠ch:_** _Product Aggregate ch·ª©a t·∫•t c·∫£ c√°c th√¥ng tin li√™n quan ƒë·∫øn s·∫£n ph·∫©m v√† ƒë∆∞·ª£c qu·∫£n l√Ω nh∆∞ m·ªôt ƒë∆°n v·ªã nh·∫•t qu√°n._

- **Order Aggregate**
  - Order (Aggregate Root): Th√¥ng tin ƒë∆°n h√†ng
  - OrderItem: C√°c s·∫£n ph·∫©m trong ƒë∆°n h√†ng
  - OrderStatus: Tr·∫°ng th√°i c·ªßa ƒë∆°n h√†ng
  - OrderPayment: Th√¥ng tin thanh to√°n
  - ShippingDetails: Chi ti·∫øt v·∫≠n chuy·ªÉn

> **_Ch√∫ th√≠ch:_** _Order Aggregate ƒë·∫°i di·ªán cho to√†n b·ªô qu√° tr√¨nh ƒë·∫∑t h√†ng, t·ª´ s·∫£n ph·∫©m ƒë·∫øn thanh to√°n v√† v·∫≠n chuy·ªÉn._

- **Customer Aggregate**
  - Customer (Aggregate Root): Th√¥ng tin kh√°ch h√†ng
  - Address: ƒê·ªãa ch·ªâ giao h√†ng/thanh to√°n
  - PaymentMethod: Ph∆∞∆°ng th·ª©c thanh to√°n l∆∞u tr·ªØ
  - CustomerGroup: Nh√≥m kh√°ch h√†ng
  - CustomerNote: Ghi ch√∫ v·ªÅ kh√°ch h√†ng

> **_Ch√∫ th√≠ch:_** _Customer Aggregate qu·∫£n l√Ω t·∫•t c·∫£ th√¥ng tin li√™n quan ƒë·∫øn kh√°ch h√†ng v√† t∆∞∆°ng t√°c c·ªßa h·ªç v·ªõi h·ªá th·ªëng._

- **Inventory Aggregate**
  - Inventory (Aggregate Root): Qu·∫£n l√Ω t·ªìn kho
  - StockItem: M·∫∑t h√†ng trong kho
  - StockTransaction: Giao d·ªãch nh·∫≠p/xu·∫•t kho
  - Warehouse: Th√¥ng tin kho h√†ng
  - Location: V·ªã tr√≠ trong kho

> **_Ch√∫ th√≠ch:_** _Inventory Aggregate qu·∫£n l√Ω t·∫•t c·∫£ c√°c kh√≠a c·∫°nh c·ªßa vi·ªác theo d√µi t·ªìn kho._

- **Promotion Aggregate**
  - Promotion (Aggregate Root): Th√¥ng tin khuy·∫øn m√£i
  - DiscountRule: Quy t·∫Øc gi·∫£m gi√°
  - Coupon: M√£ gi·∫£m gi√°
  - PromotionUsage: L·ªãch s·ª≠ s·ª≠ d·ª•ng khuy·∫øn m√£i

> **_Ch√∫ th√≠ch:_** _Promotion Aggregate qu·∫£n l√Ω c√°c chi·∫øn d·ªãch khuy·∫øn m√£i v√† vi·ªác √°p d·ª•ng ch√∫ng._

### 4.3. Junction/Intermediate Entities

- **ProductCategory** (many-to-many): K·∫øt n·ªëi Product v√† Category
- **ProductTag** (many-to-many): K·∫øt n·ªëi Product v√† Tag
- **OrderDiscount** (many-to-many): K·∫øt n·ªëi Order v√† Discount
- **CustomerPromotion** (many-to-many): K·∫øt n·ªëi Customer v√† Promotion

> **_Ch√∫ th√≠ch:_** _C√°c entity n√†y qu·∫£n l√Ω m·ªëi quan h·ªá nhi·ªÅu-nhi·ªÅu gi·ªØa c√°c entity ch√≠nh._

### 4.4. Value Objects

- **Money**: Gi√° tr·ªã ti·ªÅn t·ªá (Amount + Currency)
- **Address**: Th√¥ng tin ƒë·ªãa ch·ªâ
- **DateRange**: Kho·∫£ng th·ªùi gian
- **ContactInformation**: Th√¥ng tin li√™n l·∫°c

> **_Ch√∫ th√≠ch:_** _Value Objects l√† c√°c ƒë·ªëi t∆∞·ª£ng kh√¥ng c√≥ nh·∫≠n d·∫°ng ri√™ng, ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a b·ªüi c√°c thu·ªôc t√≠nh v√† b·∫•t bi·∫øn (immutable)._

### 4.5. Domain Services

- **OrderProcessingService**: X·ª≠ l√Ω logic ph·ª©c t·∫°p li√™n quan ƒë·∫øn ƒë∆°n h√†ng
- **PricingService**: T√≠nh to√°n gi√° d·ª±a tr√™n nhi·ªÅu y·∫øu t·ªë
- **InventoryService**: Qu·∫£n l√Ω logic c·∫≠p nh·∫≠t t·ªìn kho
- **PaymentProcessingService**: X·ª≠ l√Ω giao d·ªãch thanh to√°n

> **_Ch√∫ th√≠ch:_** _Domain Services ch·ª©a logic nghi·ªáp v·ª• ph·ª©c t·∫°p kh√¥ng thu·ªôc v·ªÅ m·ªôt entity c·ª• th·ªÉ n√†o._

### 4.6. Domain Events

- **OrderPlacedEvent**: Ph√°t ra khi ƒë∆°n h√†ng ƒë∆∞·ª£c ƒë·∫∑t
- **PaymentReceivedEvent**: Ph√°t ra khi nh·∫≠n ƒë∆∞·ª£c thanh to√°n
- **ProductOutOfStockEvent**: Ph√°t ra khi s·∫£n ph·∫©m h·∫øt h√†ng
- **CustomerRegisteredEvent**: Ph√°t ra khi kh√°ch h√†ng ƒëƒÉng k√Ω m·ªõi

> **_Ch√∫ th√≠ch:_** _Domain Events cho ph√©p c√°c ph·∫ßn kh√°c nhau c·ªßa h·ªá th·ªëng ph·∫£n ·ª©ng v·ªõi nh·ªØng thay ƒë·ªïi quan tr·ªçng._

## 5. üìÅ C·∫§U TR√öC SOLUTION

```plaintext
üìÅ ZylPeloXStore
 ‚îú‚îÄ‚îÄ üìÅ Core
 ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ZPX.Domain                 // Logic nghi·ªáp v·ª• c·ªët l√µi
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Entities               // C√°c entity c∆° b·∫£n
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Aggregates             // C√°c aggregate roots
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Product
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Order
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Customer
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Inventory
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ JunctionEntities       // Entity m·ªëi quan h·ªá nhi·ªÅu-nhi·ªÅu
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ValueObjects           // Value objects
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Events                 // Domain events
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Exceptions             // Domain exceptions
 ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Services               // Domain services
 ‚îÇ   ‚îÇ
 ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ ZPX.Application            // Logic ·ª©ng d·ª•ng
 ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Common
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Behaviors          // Pipeline behaviors (validation, logging)
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Specifications     // Query specifications
 ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Exceptions         // Application exceptions
 ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Contracts
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Persistence        // Persistence interfaces
 ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Repositories   // Repository interfaces
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Infrastructure     // Infrastructure interfaces
 ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Identity           // Identity interfaces
 ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Features               // CQRS features
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Products           // Product-related commands/queries
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Orders             // Order-related commands/queries
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Customers          // Customer-related commands/queries
 ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Inventory          // Inventory-related commands/queries
 ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ EventHandlers          // Domain event handlers
 ‚îÇ
 ‚îú‚îÄ‚îÄ üìÅ Infrastructure
 ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ZPX.Infrastructure         // D·ªãch v·ª• c∆° s·ªü h·∫° t·∫ßng
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Cache                  // Caching implementation
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Email                  // Email service
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ FileStorage            // File storage service
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ MessageBroker          // Message broker integration
 ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ ThirdPartyServices     // Third-party integrations
 ‚îÇ   ‚îÇ
 ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ZPX.Persistence            // Truy c·∫≠p d·ªØ li·ªáu
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Configurations         // EF Core configurations
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Repositories           // Repository implementations
 ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Migrations             // Database migrations
 ‚îÇ   ‚îÇ
 ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ ZPX.Identity               // X√°c th·ª±c v√† ph√¢n quy·ªÅn
 ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Models                 // Identity models
 ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Services               // Identity services
 ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ Configurations         // Identity configurations
 ‚îÇ
 ‚îú‚îÄ‚îÄ üìÅ Presentation
 ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ZPX.Server                 // Web API
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Controllers            // API controllers
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Filters                // Action filters
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Middleware             // Custom middleware
 ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Configurations         // API configurations
 ‚îÇ   ‚îÇ
 ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ zpx-ui                     // Angular frontend (ƒë·ªïi t·ª´ ZPX.WebClient)
 ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ src
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ app
 ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ core           // Core functionality
 ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ shared         // Shared components
 ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ features       // Feature modules
 ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ assets             // Static assets
 ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ environments       // Environment configurations
 ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ angular.json           // Angular configuration
 ‚îÇ
 ‚îú‚îÄ‚îÄ üìÅ Shared                         // Shared code
 ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ ZPX.Shared                 // Shared utilities and DTOs
 ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Constants              // Shared constants
 ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Extensions             // Extension methods
 ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ Utilities              // Utility classes
 ‚îÇ
 ‚îî‚îÄ‚îÄ üìÅ Tests                          // Tests
     ‚îú‚îÄ‚îÄ üìÅ ZPX.UnitTests              // Unit tests
     ‚îú‚îÄ‚îÄ üìÅ ZPX.IntegrationTests       // Integration tests
     ‚îî‚îÄ‚îÄ üìÅ ZPX.E2ETests               // End-to-end tests
```

> **_Ch√∫ th√≠ch:_** _C·∫•u tr√∫c solution tu√¢n theo nguy√™n t·∫Øc c·ªßa Clean Architecture, v·ªõi c√°c layer r√µ r√†ng v√† s·ª± ph·ª• thu·ªôc ƒëi t·ª´ ngo√†i v√†o trong. D·ª± √°n frontend ƒë∆∞·ª£c ƒë·ªïi t√™n t·ª´ ZPX.WebClient th√†nh zpx-ui ƒë·ªÉ tu√¢n theo quy ∆∞·ªõc ƒë·∫∑t t√™n c·ªßa Angular._

## 6. üìù APPLICATION LAYER DETAILS

### 6.1. CQRS Implementation

- **Commands** (Write operations)
  - CreateProductCommand: T·∫°o s·∫£n ph·∫©m m·ªõi
  - UpdateProductCommand: C·∫≠p nh·∫≠t th√¥ng tin s·∫£n ph·∫©m
  - DeleteProductCommand: X√≥a s·∫£n ph·∫©m (soft delete)

> **_Ch√∫ th√≠ch:_** _Commands ƒë·∫°i di·ªán cho c√°c thao t√°c thay ƒë·ªïi tr·∫°ng th√°i h·ªá th·ªëng, tr·∫£ v·ªÅ k·∫øt qu·∫£ th√†nh c√¥ng/th·∫•t b·∫°i._

- **Queries** (Read operations)
  - GetProductsQuery: L·∫•y danh s√°ch s·∫£n ph·∫©m c√≥ ph√¢n trang
  - GetProductByIdQuery: L·∫•y chi ti·∫øt s·∫£n ph·∫©m theo ID
  - SearchProductsQuery: T√¨m ki·∫øm s·∫£n ph·∫©m v·ªõi c√°c ƒëi·ªÅu ki·ªán ph·ª©c t·∫°p

> **_Ch√∫ th√≠ch:_** _Queries ch·ªâ ƒë·ªçc d·ªØ li·ªáu, kh√¥ng thay ƒë·ªïi tr·∫°ng th√°i v√† ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a cho hi·ªáu su·∫•t ƒë·ªçc._

- **Command/Query Handlers**
  - CreateProductCommandHandler: X·ª≠ l√Ω logic t·∫°o s·∫£n ph·∫©m
  - GetProductsQueryHandler: X·ª≠ l√Ω logic l·∫•y danh s√°ch s·∫£n ph·∫©m
  - etc.

> **_Ch√∫ th√≠ch:_** _M·ªói command/query c√≥ m·ªôt handler t∆∞∆°ng ·ª©ng, gi√∫p t√°ch bi·ªát logic x·ª≠ l√Ω v√† d·ªÖ d√†ng th√™m middleware._

### 6.2. DTOs & Mapping

- **Request DTOs**
  - CreateProductRequest: DTO cho y√™u c·∫ßu t·∫°o s·∫£n ph·∫©m
  - UpdateProductRequest: DTO cho y√™u c·∫ßu c·∫≠p nh·∫≠t s·∫£n ph·∫©m
  - etc.

> **_Ch√∫ th√≠ch:_** _Request DTOs ƒë·ªãnh nghƒ©a d·ªØ li·ªáu ƒë·∫ßu v√†o t·ª´ client, th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m tham s·ªë cho Commands._

- **Response DTOs**
  - ProductDto: DTO tr·∫£ v·ªÅ th√¥ng tin c∆° b·∫£n v·ªÅ s·∫£n ph·∫©m
  - ProductDetailDto: DTO tr·∫£ v·ªÅ th√¥ng tin chi ti·∫øt v·ªÅ s·∫£n ph·∫©m
  - OrderDto: DTO tr·∫£ v·ªÅ th√¥ng tin v·ªÅ ƒë∆°n h√†ng
  - etc.

> **_Ch√∫ th√≠ch:_** _Response DTOs ƒë·ªãnh nghƒ©a d·ªØ li·ªáu tr·∫£ v·ªÅ cho client, t√°ch bi·ªát v·ªõi domain model n·ªôi b·ªô._

- **Mapping Profiles**
  - ProductMappingProfile: C·∫•u h√¨nh mapping gi·ªØa Product v√† ProductDto
  - OrderMappingProfile: C·∫•u h√¨nh mapping gi·ªØa Order v√† OrderDto
  - etc.

> **_Ch√∫ th√≠ch:_** _Mapping Profiles ƒë·ªãnh nghƒ©a c√°ch chuy·ªÉn ƒë·ªïi gi·ªØa domain models v√† DTOs, s·ª≠ d·ª•ng AutoMapper._

### 6.3. Validation

- **Validators**
  - CreateProductValidator: X√°c th·ª±c d·ªØ li·ªáu t·∫°o s·∫£n ph·∫©m
  - UpdateProductValidator: X√°c th·ª±c d·ªØ li·ªáu c·∫≠p nh·∫≠t s·∫£n ph·∫©m
  - etc.

> **_Ch√∫ th√≠ch:_** _Validators s·ª≠ d·ª•ng FluentValidation ƒë·ªÉ ƒë·ªãnh nghƒ©a c√°c quy t·∫Øc x√°c th·ª±c cho d·ªØ li·ªáu ƒë·∫ßu v√†o._

- **Validation Behavior**
  - Implement MediatR Pipeline Behavior for validation

> **_Ch√∫ th√≠ch:_** _Validation Behavior ƒë·∫£m b·∫£o t·∫•t c·∫£ c√°c requests ƒë∆∞·ª£c x√°c th·ª±c tr∆∞·ªõc khi x·ª≠ l√Ω, t·∫≠p trung h√≥a logic validation._

### 6.4. Application Services

- **Email Service**: G·ª≠i email th√¥ng b√°o, x√°c nh·∫≠n ƒë∆°n h√†ng
- **File Storage Service**: Upload v√† qu·∫£n l√Ω h√¨nh ·∫£nh s·∫£n ph·∫©m
- **Cache Service**: Caching d·ªØ li·ªáu th∆∞·ªùng xuy√™n truy c·∫≠p
- **Message Service**: G·ª≠i th√¥ng b√°o qua message queue

> **_Ch√∫ th√≠ch:_** _Application Services cung c·∫•p c√°c ch·ª©c nƒÉng h·ªó tr·ª£ cho application layer, th∆∞·ªùng l√† wrapper cho c√°c d·ªãch v·ª• c∆° s·ªü h·∫° t·∫ßng._

## 7. üåê API DESIGN & ENDPOINTS

### 7.1. RESTful API Principles

- **Resource-based URLs**: URLs ƒë·∫°i di·ªán cho resources, kh√¥ng ph·∫£i actions
- **HTTP methods**: S·ª≠ d·ª•ng GET, POST, PUT, DELETE ƒë√∫ng c√°ch
- **Proper status codes**: Tr·∫£ v·ªÅ HTTP status codes ph√π h·ª£p (200, 201, 400, 404, 500, etc.)
- **Paging, filtering, sorting**: Cung c·∫•p kh·∫£ nƒÉng ph√¢n trang, l·ªçc v√† s·∫Øp x·∫øp d·ªØ li·ªáu

> **_Ch√∫ th√≠ch:_** _API ƒë∆∞·ª£c thi·∫øt k·∫ø theo nguy√™n t·∫Øc RESTful ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n v√† d·ªÖ s·ª≠ d·ª•ng._

### 7.2. API Versioning

- **URL-based versioning**: `/api/v1/products`

> **_Ch√∫ th√≠ch:_** _Versioning gi√∫p ƒë·∫£m b·∫£o t√≠nh t∆∞∆°ng th√≠ch ng∆∞·ª£c khi API thay ƒë·ªïi._

### 7.3. API Documentation

- **Swagger/OpenAPI integration**: T√†i li·ªáu API t·ª± ƒë·ªông
- **Documented examples**: V√≠ d·ª• request/response
- **API changelog**: Theo d√µi thay ƒë·ªïi gi·ªØa c√°c phi√™n b·∫£n API

> **_Ch√∫ th√≠ch:_** _T√†i li·ªáu API chi ti·∫øt gi√∫p c√°c nh√† ph√°t tri·ªÉn d·ªÖ d√†ng t√≠ch h·ª£p v·ªõi h·ªá th·ªëng._

### 7.4. Controller Examples

```csharp
[ApiController]
[Route("api/v1/[controller]")]
public class ProductsController : ControllerBase
{
    private readonly IMediator _mediator;

    public ProductsController(IMediator mediator)
    {
        _mediator = mediator;
    }

    [HttpGet]
    public async Task<ActionResult<PaginatedList<ProductDto>>> GetProducts([FromQuery] GetProductsQuery query)
    {
        var result = await _mediator.Send(query);
        return Ok(result);
    }

    [HttpGet("{id}")]
    public async Task<ActionResult<ProductDetailDto>> GetProductById(Guid id)
    {
        var result = await _mediator.Send(new GetProductByIdQuery(id));
        return result.Match<ActionResult>(
            success => Ok(success),
            error => NotFound()
        );
    }

    [HttpPost]
    public async Task<ActionResult<ProductDto>> CreateProduct(CreateProductRequest request)
    {
        var result = await _mediator.Send(new CreateProductCommand(request));
        return result.Match<ActionResult>(
            success => CreatedAtAction(nameof(GetProductById), new { id = success.Id }, success),
            error => BadRequest(error.Reasons)
        );
    }
}
```

> **_Ch√∫ th√≠ch:_** _Controller s·ª≠ d·ª•ng MediatR ƒë·ªÉ chuy·ªÉn ti·∫øp requests ƒë·∫øn c√°c handlers t∆∞∆°ng ·ª©ng, gi√∫p controllers nh·∫π v√† ch·ªâ t·∫≠p trung v√†o vi·ªác x·ª≠ l√Ω HTTP._

## 8. üíæ DATABASE & DATA ACCESS

### 8.1. Database Schema Overview

- **Product-related tables**: Products, ProductVariants, Categories, etc.
- **Order-related tables**: Orders, OrderItems, OrderStatuses, etc.
- **Customer-related tables**: Customers, Addresses, CustomerGroups, etc.
- **Inventory tables**: Inventories, StockItems, Warehouses, etc.
- **Junction tables**: ProductCategories, ProductTags, etc.

> **_Ch√∫ th√≠ch:_** _Schema ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ c√¢n b·∫±ng gi·ªØa chu·∫©n h√≥a (ƒë·ªÉ gi·∫£m d∆∞ th·ª´a) v√† denormalization (ƒë·ªÉ c·∫£i thi·ªán hi·ªáu su·∫•t ƒë·ªçc)._

### 8.2. Entity Framework Core Configuration

```csharp
public class ProductConfiguration : IEntityTypeConfiguration<Product>
{
    public void Configure(EntityTypeBuilder<Product> builder)
    {
        builder.ToTable("Products");
        builder.HasKey(p => p.Id);

        builder.Property(p => p.Name)
            .IsRequired()
            .HasMaxLength(200);

        builder.Property(p => p.Description)
            .HasMaxLength(4000);

        builder.HasMany(p => p.Variants)
            .WithOne(v => v.Product)
            .HasForeignKey(v => v.ProductId)
            .OnDelete(DeleteBehavior.Cascade);

        builder.HasQueryFilter(p => !p.IsDeleted); // Soft delete
    }
}
```

> **_Ch√∫ th√≠ch:_** _Entity Framework configurations ƒë∆∞·ª£c t√°ch ri√™ng ƒë·ªÉ gi·ªØ cho domain models s·∫°ch v√† t·∫≠p trung v√†o business logic._

### 8.3. Migration Strategy

- **Code-First approach**: T·∫°o database schema t·ª´ C# classes
- **Incremental migrations**: Th√™m migrations cho m·ªói thay ƒë·ªïi schema
- **Schema versioning**: Gi·ªØ phi√™n b·∫£n c·ªßa schema ƒë·ªÉ d·ªÖ d√†ng rollback
- **Data seeding for lookup tables**: Kh·ªüi t·∫°o d·ªØ li·ªáu cho c√°c b·∫£ng lookup

> **_Ch√∫ th√≠ch:_** _Chi·∫øn l∆∞·ª£c migration ƒë·∫£m b·∫£o database schema c√≥ th·ªÉ theo d√µi ƒë∆∞·ª£c thay ƒë·ªïi v√† d·ªÖ d√†ng tri·ªÉn khai tr√™n nhi·ªÅu m√¥i tr∆∞·ªùng._

### 8.4. Performance Considerations

- **Proper indexing**: T·∫°o indexes cho c√°c c·ªôt th∆∞·ªùng xuy√™n t√¨m ki·∫øm
- **Batch operations with BulkExtensions**: S·ª≠ d·ª•ng bulk operations cho thao t√°c h√†ng lo·∫°t
- **Optimization for read operations (CQRS)**: T√°ch bi·ªát database ƒë·ªçc v√† ghi n·∫øu c·∫ßn
- **N+1 problem prevention**: S·ª≠ d·ª•ng Include v√† eager loading ph√π h·ª£p

> **_Ch√∫ th√≠ch:_** _Hi·ªáu su·∫•t database l√† ∆∞u ti√™n h√†ng ƒë·∫ßu, ƒë·∫∑c bi·ªát khi h·ªá th·ªëng m·ªü r·ªông v·ªõi l∆∞·ª£ng d·ªØ li·ªáu l·ªõn._

## 9. üñ•Ô∏è FRONTEND ARCHITECTURE

### 9.1. Angular Structure

- **Core Module**: Services, guards v√† components b·∫Øt bu·ªôc
- **Shared Module**: Components, directives v√† pipes d√πng chung
- **Feature Modules**: Modules theo t√≠nh nƒÉng, lazy-loaded
- **Component Architecture**: Smart v√† presentational components

> **_Ch√∫ th√≠ch:_** _C·∫•u tr√∫c Angular tu√¢n theo Angular Style Guide, t·ªï ch·ª©c code theo t√≠nh nƒÉng v√† kh·∫£ nƒÉng t√°i s·ª≠ d·ª•ng._

### 9.2. State Management

- **NgRx Store for complex state**: Qu·∫£n l√Ω state ph·ª©c t·∫°p to√†n c·∫ßu
- **Services with RxJS for simple state**: Qu·∫£n l√Ω state ƒë∆°n gi·∫£n v·ªõi services
- **Local component state where appropriate**: State c·ª•c b·ªô cho components

> **_Ch√∫ th√≠ch:_** _State management strategy ph·ª• thu·ªôc v√†o ƒë·ªô ph·ª©c t·∫°p c·ªßa state, tr√°nh over engineering cho c√°c state ƒë∆°n gi·∫£n._

### 9.3. UI Components

- **Angular Material components as base**: S·ª≠ d·ª•ng Material Design
- **Custom components extended from Material**: M·ªü r·ªông Material components
- **Responsive design with Flex Layout**: Layout linh ho·∫°t tr√™n m·ªçi thi·∫øt b·ªã

> **_Ch√∫ th√≠ch:_** _UI components ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ nh·∫•t qu√°n v√† t√°i s·ª≠ d·ª•ng, v·ªõi Material Design l√†m n·ªÅn t·∫£ng._

### 9.4. Routing & Navigation

- **Feature-based routing**: Routes ƒë∆∞·ª£c t·ªï ch·ª©c theo t√≠nh nƒÉng
- **Route guards for authorization**: Ki·ªÉm so√°t truy c·∫≠p v√†o routes
- **Lazy-loading for performance**: T·∫£i modules khi c·∫ßn

> **_Ch√∫ th√≠ch:_** _Routing strategy t·∫≠n d·ª•ng lazy-loading ƒë·ªÉ c·∫£i thi·ªán th·ªùi gian t·∫£i ban ƒë·∫ßu v√† ph√¢n t√°ch r√µ r√†ng gi·ªØa c√°c t√≠nh nƒÉng._

### 9.5. Internationalization

- **Multi-language support with NgxTranslate**: H·ªó tr·ª£ nhi·ªÅu ng√¥n ng·ªØ
- **Currency and date formatting based on locale**: ƒê·ªãnh d·∫°ng ti·ªÅn t·ªá v√† ng√†y th√°ng theo locale
- **RTL support for applicable languages**: H·ªó tr·ª£ ng√¥n ng·ªØ vi·∫øt t·ª´ ph·∫£i sang tr√°i

> **_Ch√∫ th√≠ch:_** _I18n ƒë∆∞·ª£c t√≠ch h·ª£p t·ª´ ƒë·∫ßu ƒë·ªÉ ƒë·∫£m b·∫£o ·ª©ng d·ª•ng c√≥ th·ªÉ d·ªÖ d√†ng h·ªó tr·ª£ nhi·ªÅu ng√¥n ng·ªØ v√† khu v·ª±c._

## 10. üõë ERROR HANDLING & LOGGING

### 10.1. Exception Handling

- **Custom domain exceptions with "Zpx" prefix**: ZpxNotFoundException, ZpxValidationException, etc.
- **Global exception middleware**: X·ª≠ l√Ω l·ªói t·∫≠p trung
- **Structured error responses**: Format l·ªói nh·∫•t qu√°n cho client

> **_Ch√∫ th√≠ch:_** _Exception handling ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ cung c·∫•p th√¥ng tin h·ªØu √≠ch cho developers v√† ng∆∞·ªùi d√πng, ƒë·ªìng th·ªùi b·∫£o v·ªá th√¥ng tin nh·∫°y c·∫£m._

### 10.2. Logging Strategy

- **Structured logging with Serilog**: Logs c√≥ c·∫•u tr√∫c ƒë·ªÉ d·ªÖ d√†ng t√¨m ki·∫øm v√† ph√¢n t√≠ch
- **Log levels (Debug, Info, Warning, Error, Fatal)**: Ph√¢n lo·∫°i logs theo m·ª©c ƒë·ªô nghi√™m tr·ªçng
- **Log enrichment with context data**: Th√™m context data v√†o m·ªói log entry
- **Log storage and rotation**: L∆∞u tr·ªØ v√† xoay v√≤ng logs ƒë·ªÉ qu·∫£n l√Ω dung l∆∞·ª£ng

> **_Ch√∫ th√≠ch:_** _Logging l√† m·ªôt ph·∫ßn quan tr·ªçng c·ªßa h·ªá th·ªëng, gi√∫p ghi l·∫°i ho·∫°t ƒë·ªông v√† ph√°t hi·ªán s·ª± c·ªë._

### 10.3. Monitoring

- **Health checks**: Ki·ªÉm tra s·ª©c kh·ªèe h·ªá th·ªëng
- **Application metrics**: ƒêo l∆∞·ªùng hi·ªáu su·∫•t ·ª©ng d·ª•ng
- **Performance counters**: Theo d√µi c√°c ch·ªâ s·ªë hi·ªáu su·∫•t h·ªá th·ªëng
- **API usage statistics**: Th·ªëng k√™ s·ª≠ d·ª•ng API

> **_Ch√∫ th√≠ch:_** _Monitoring gi√∫p ph√°t hi·ªán s·ªõm c√°c v·∫•n ƒë·ªÅ v√† cung c·∫•p insights v·ªÅ hi·ªáu su·∫•t h·ªá th·ªëng._

## 11. üîí SECURITY CONSIDERATIONS

### 11.1. Authentication & Authorization

- **JWT-based authentication**: X√°c th·ª±c d·ª±a tr√™n JSON Web Tokens
- **Role-based authorization**: Ph√¢n quy·ªÅn d·ª±a tr√™n vai tr√≤
- **Policy-based access control**: Ki·ªÉm so√°t truy c·∫≠p d·ª±a tr√™n policies
- **Refresh token strategy**: C∆° ch·∫ø l√†m m·ªõi token

> **_Ch√∫ th√≠ch:_** _Authentication v√† authorization ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ b·∫£o v·ªá t√†i nguy√™n v√† ƒë·∫£m b·∫£o ng∆∞·ªùi d√πng ch·ªâ truy c·∫≠p ƒë∆∞·ª£c v√†o t√†i nguy√™n ƒë∆∞·ª£c ph√©p._

### 11.2. Data Protection

- **HTTPS everywhere**: M√£ h√≥a t·∫•t c·∫£ giao ti·∫øp
- **Data encryption for sensitive info**: M√£ h√≥a th√¥ng tin nh·∫°y c·∫£m trong database
- **Input validation and sanitization**: X√°c th·ª±c v√† l√†m s·∫°ch input
- **CSRF protection**: B·∫£o v·ªá ch·ªëng l·∫°i t·∫•n c√¥ng Cross-Site Request Forgery

> **_Ch√∫ th√≠ch:_** _Data protection l√† ∆∞u ti√™n h√†ng ƒë·∫ßu, ƒë·∫∑c bi·ªát l√† th√¥ng tin c√° nh√¢n v√† t√†i ch√≠nh c·ªßa kh√°ch h√†ng._

### 11.3. API Security

- **Rate limiting**: Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng requests
- **Request validation**: X√°c th·ª±c t·∫•t c·∫£ requests
- **API keys for external systems**: Kh√≥a API cho h·ªá th·ªëng b√™n ngo√†i
- **CORS configuration**: C·∫•u h√¨nh Cross-Origin Resource Sharing

> **_Ch√∫ th√≠ch:_** _API security ƒë·∫£m b·∫£o API ch·ªâ ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi c√°c clients h·ª£p l·ªá v√† kh√¥ng b·ªã l·∫°m d·ª•ng._

## 12. üì¶ CACHING STRATEGY

### 12.1. Cache Levels

- **Memory cache (first level)**: Cache trong b·ªô nh·ªõ cho d·ªØ li·ªáu truy c·∫≠p th∆∞·ªùng xuy√™n
- **Distributed cache with Redis (second level)**: Cache ph√¢n t√°n cho m√¥i tr∆∞·ªùng nhi·ªÅu instances
- **Browser caching for static assets**: Cache tr√™n tr√¨nh duy·ªát cho t√†i nguy√™n tƒ©nh

> **_Ch√∫ th√≠ch:_** _Multi-level caching gi√∫p t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t ·ªü m·ªói layer c·ªßa h·ªá th·ªëng._

### 12.2. Cache Invalidation

- **Time-based expiration**: Cache h·∫øt h·∫°n sau m·ªôt kho·∫£ng th·ªùi gian
- **Event-based invalidation**: Cache ƒë∆∞·ª£c l√†m m·ªõi khi c√≥ s·ª± ki·ªán li√™n quan
- **Cache dependencies**: Cache ph·ª• thu·ªôc v√†o c√°c cache kh√°c

> **_Ch√∫ th√≠ch:_** _Cache invalidation ƒë·∫£m b·∫£o d·ªØ li·ªáu cache lu√¥n ƒë∆∞·ª£c c·∫≠p nh·∫≠t v√† nh·∫•t qu√°n v·ªõi d·ªØ li·ªáu g·ªëc._

### 12.3. Cacheable Resources

- **Product catalog data**: D·ªØ li·ªáu catalog s·∫£n ph·∫©m
- **User preferences**: T√πy ch·ªçn ng∆∞·ªùi d√πng
- **Lookup data**: D·ªØ li·ªáu tham kh·∫£o √≠t thay ƒë·ªïi
- **Session data**: D·ªØ li·ªáu phi√™n

> **_Ch√∫ th√≠ch:_** _Vi·ªác x√°c ƒë·ªãnh r√µ nh·ªØng resource n√†o n√™n ƒë∆∞·ª£c cache gi√∫p t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t v√† tr√°nh l√£ng ph√≠ b·ªô nh·ªõ._

## 13. ‚úÖ TESTING APPROACH

### 13.1. Unit Testing

- **Domain logic tests**: Ki·ªÉm tra logic domain
- **Application handlers tests**: Ki·ªÉm tra handlers
- **Services tests**: Ki·ªÉm tra services

> **_Ch√∫ th√≠ch:_** _Unit tests t·∫≠p trung v√†o vi·ªác ki·ªÉm tra c√°c ƒë∆°n v·ªã code nh·ªè m·ªôt c√°ch c√¥ l·∫≠p._

### 13.2. Integration Testing

- **Repository tests**: Ki·ªÉm tra truy c·∫≠p d·ªØ li·ªáu
- **API endpoint tests**: Ki·ªÉm tra endpoints API
- **Database integration tests**: Ki·ªÉm tra t√≠ch h·ª£p database

> **_Ch√∫ th√≠ch:_** _Integration tests ki·ªÉm tra t∆∞∆°ng t√°c gi·ªØa c√°c th√†nh ph·∫ßn c·ªßa h·ªá th·ªëng._

### 13.3. E2E Testing

- **Critical user flows**: Ki·ªÉm tra c√°c lu·ªìng nghi·ªáp v·ª• quan tr·ªçng
- **UI/UX testing**: Ki·ªÉm tra giao di·ªán ng∆∞·ªùi d√πng
- **Performance testing**: Ki·ªÉm tra hi·ªáu su·∫•t

> **_Ch√∫ th√≠ch:_** _E2E tests ki·ªÉm tra to√†n b·ªô h·ªá th·ªëng t·ª´ g√≥c nh√¨n c·ªßa ng∆∞·ªùi d√πng cu·ªëi._

### 13.4. Testing Tools

- **xUnit for unit/integration tests**: Framework testing cho .NET
- **Moq for mocking**: Library ƒë·ªÉ t·∫°o mock objects
- **Cypress for E2E tests**: Framework testing cho web applications

> **_Ch√∫ th√≠ch:_** _C√°c c√¥ng c·ª• testing ƒë∆∞·ª£c ch·ªçn d·ª±a tr√™n s·ª± ph·ªï bi·∫øn, hi·ªáu su·∫•t v√† kh·∫£ nƒÉng t√≠ch h·ª£p v·ªõi CI/CD._

## 14. üöÄ DEPLOYMENT & DEVOPS

### 14.1. CI/CD Pipeline

- **Automated builds with GitHub Actions**: T·ª± ƒë·ªông h√≥a qu√° tr√¨nh build
- **Automated testing**: Ch·∫°y tests t·ª± ƒë·ªông
- **Static code analysis**: Ph√¢n t√≠ch code tƒ©nh
- **Deployment automation**: T·ª± ƒë·ªông h√≥a tri·ªÉn khai

> **_Ch√∫ th√≠ch:_** _CI/CD pipeline ƒë·∫£m b·∫£o code ƒë∆∞·ª£c ki·ªÉm tra v√† tri·ªÉn khai m·ªôt c√°ch nh·∫•t qu√°n v√† ƒë√°ng tin c·∫≠y._

### 14.2. Environments

- **Development**: M√¥i tr∆∞·ªùng ph√°t tri·ªÉn
- **Testing**: M√¥i tr∆∞·ªùng ki·ªÉm th·ª≠
- **Staging**: M√¥i tr∆∞·ªùng pre-production
- **Production**: M√¥i tr∆∞·ªùng s·∫£n ph·∫©m

> **_Ch√∫ th√≠ch:_** _Multiple environments ƒë·∫£m b·∫£o code ƒë∆∞·ª£c ki·ªÉm tra k·ªπ l∆∞·ª°ng tr∆∞·ªõc khi ƒë·∫øn production._

### 14.3. Deployment Strategy

- **Docker containerization**: ƒê√≥ng g√≥i ·ª©ng d·ª•ng trong containers
- **Azure App Service deployment**: Tri·ªÉn khai l√™n Azure App Service
- **Blue-green deployment (zero downtime)**: Tri·ªÉn khai kh√¥ng gi√°n ƒëo·∫°n

> **_Ch√∫ th√≠ch:_** _Deployment strategy t·∫≠p trung v√†o zero downtime v√† kh·∫£ nƒÉng rollback nhanh ch√≥ng._

## 15. üìÖ ROADMAP & PHASING

### 15.1. Phase 1: MVP (Month 1-3)

- **Core product catalog**: Qu·∫£n l√Ω s·∫£n ph·∫©m c∆° b·∫£n
- **Basic order management**: Qu·∫£n l√Ω ƒë∆°n h√†ng ƒë∆°n gi·∫£n
- **Customer accounts**: ƒêƒÉng k√Ω v√† qu·∫£n l√Ω t√†i kho·∫£n
- **Admin dashboard**: Dashboard qu·∫£n tr·ªã c∆° b·∫£n
- **Payment integration (1-2 providers)**: T√≠ch h·ª£p thanh to√°n v·ªõi 1-2 nh√† cung c·∫•p

> **_Ch√∫ th√≠ch:_** _Phase 1 t·∫≠p trung v√†o vi·ªác x√¢y d·ª±ng c√°c t√≠nh nƒÉng c·ªët l√µi ƒë·ªÉ ra m·∫Øt s·∫£n ph·∫©m s·ªõm v√† nh·∫≠n feedback._

### 15.2. Phase 2: Enhanced Features (Month 4-6)

- **Inventory management**: Qu·∫£n l√Ω kho h√†ng
- **Advanced product search**: T√¨m ki·∫øm s·∫£n ph·∫©m n√¢ng cao
- **Promotions & discounts**: H·ªá th·ªëng khuy·∫øn m√£i v√† gi·∫£m gi√°
- **Customer reviews**: ƒê√°nh gi√° s·∫£n ph·∫©m
- **Expanded payment options**: M·ªü r·ªông c√°c t√πy ch·ªçn thanh to√°n

> **_Ch√∫ th√≠ch:_** _Phase 2 m·ªü r·ªông ch·ª©c nƒÉng d·ª±a tr√™n feedback t·ª´ Phase 1 v√† th√™m c√°c t√≠nh nƒÉng n√¢ng cao._

### 15.3. Phase 3: Advanced Features (Month 7-9)

- **Analytics & reporting**: Ph√¢n t√≠ch v√† b√°o c√°o
- **Marketing tools**: C√¥ng c·ª• marketing
- **Multi-vendor support (optional)**: H·ªó tr·ª£ nhi·ªÅu nh√† cung c·∫•p
- **Mobile app (optional)**: ·ª®ng d·ª•ng di ƒë·ªông
- **API for third-parties**: API cho b√™n th·ª© ba

> **_Ch√∫ th√≠ch:_** _Phase 3 th√™m c√°c t√≠nh nƒÉng n√¢ng cao v√† m·ªü r·ªông h·ªá sinh th√°i c·ªßa s·∫£n ph·∫©m._

## 16. üìè CODING STANDARDS & QUALITY

### 16.1. Naming Conventions

- **DTO Request**: `Create[EntityName]Request`, `Update[EntityName]Request`
- **Specifications**: `[EntityName]Spec.cs`
- **Custom Exceptions**: `Zpx[ExceptionName]`
- **Project Prefix**: `ZPX`

> **_Ch√∫ th√≠ch:_** _Naming conventions ƒë·∫£m b·∫£o code nh·∫•t qu√°n v√† d·ªÖ ƒë·ªçc tr√™n to√†n b·ªô d·ª± √°n._

### 16.2. Code Quality Tools

- **SonarLint/SonarQube**: Ph√¢n t√≠ch code quality
- **StyleCop**: Ki·ªÉm tra code style
- **EditorConfig**: C·∫•u h√¨nh editor nh·∫•t qu√°n
- **Code quality gates in CI/CD**: Ki·ªÉm tra quality trong CI/CD

> **_Ch√∫ th√≠ch:_** _Code quality tools gi√∫p duy tr√¨ ch·∫•t l∆∞·ª£ng code cao v√† nh·∫•t qu√°n tr√™n to√†n b·ªô d·ª± √°n._

### 16.3. Documentation

- **Code documentation (XML comments)**: T√†i li·ªáu code v·ªõi XML comments
- **Architecture documentation**: T√†i li·ªáu ki·∫øn tr√∫c
- **API documentation**: T√†i li·ªáu API
- **User guides**: H∆∞·ªõng d·∫´n ng∆∞·ªùi d√πng

> **_Ch√∫ th√≠ch:_** _Documentation l√† m·ªôt ph·∫ßn quan tr·ªçng c·ªßa d·ª± √°n, gi√∫p c√°c developers m·ªõi d·ªÖ d√†ng ti·∫øp c·∫≠n v√† hi·ªÉu code._

### 16.4. Development Practices

- **Code reviews**: ƒê√°nh gi√° code tr∆∞·ªõc khi merge
- **Pull request workflow**: Quy tr√¨nh pull request
- **Feature branch strategy**: Branch theo t√≠nh nƒÉng
- **Test-driven development (when applicable)**: Ph√°t tri·ªÉn h∆∞·ªõng test khi ph√π h·ª£p

> **_Ch√∫ th√≠ch:_** _Development practices ƒë·∫£m b·∫£o code ch·∫•t l∆∞·ª£ng cao v√† gi·∫£m thi·ªÉu bugs._

---

## APPENDIX A: RESOURCE REQUIREMENTS

### A.1. Development Team

- **1 Tech Lead / Architect**: Ch·ªãu tr√°ch nhi·ªám v·ªÅ ki·∫øn tr√∫c t·ªïng th·ªÉ
- **3-4 Backend Developers**: Ph√°t tri·ªÉn backend
- **2 Frontend Developers**: Ph√°t tri·ªÉn frontend
- **1 QA Engineer**: ƒê·∫£m b·∫£o ch·∫•t l∆∞·ª£ng
- **1 DevOps Engineer (part-time)**: Qu·∫£n l√Ω deployment v√† CI/CD

> **_Ch√∫ th√≠ch:_** _Team size ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ c√¢n b·∫±ng gi·ªØa t·ªëc ƒë·ªô ph√°t tri·ªÉn v√† qu·∫£n l√Ω hi·ªáu qu·∫£._

### A.2. Infrastructure

- **Development environments**: M√¥i tr∆∞·ªùng ph√°t tri·ªÉn cho m·ªói developer
- **Test/QA environment**: M√¥i tr∆∞·ªùng ki·ªÉm th·ª≠
- **Staging environment**: M√¥i tr∆∞·ªùng pre-production
- **Production environment**: M√¥i tr∆∞·ªùng s·∫£n ph·∫©m
- **CI/CD pipeline**: Pipeline t·ª± ƒë·ªông h√≥a
- **Source control repository**: Repository qu·∫£n l√Ω source code

> **_Ch√∫ th√≠ch:_** _Infrastructure ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ h·ªó tr·ª£ ph√°t tri·ªÉn li√™n t·ª•c v√† deployment nhanh ch√≥ng._

### A.3. Estimated Timeline

- **Planning & Setup**: 2-3 weeks
- **MVP Development**: 2-3 months
- **Testing & Refinement**: 1 month
- **Enhanced Features**: 3 months
- **Advanced Features**: 3 months

> **_Ch√∫ th√≠ch:_** _Timeline l√† ∆∞·ªõc t√≠nh ban ƒë·∫ßu v√† c√≥ th·ªÉ ƒëi·ªÅu ch·ªânh d·ª±a tr√™n ti·∫øn ƒë·ªô th·ª±c t·∫ø v√† feedback._

---

**Ph√™ duy·ªát:**

| Vai tr√≤       | T√™n            | Ch·ªØ k√Ω | Ng√†y |
| ------------- | -------------- | ------ | ---- |
| Ng∆∞·ªùi y√™u c·∫ßu | phamtiendungcw | ‚úì      |      |
| Qu·∫£n l√Ω d·ª± √°n | phamtiendungcw | ‚úì      |      |
| Ki·∫øn tr√∫c s∆∞  | phamtiendungcw | ‚úì      |      |

---

## üóÉÔ∏è Thi·∫øt k·∫ø Database cho ZylPeloXStore (ZPX)

> **Ng√†y hi·ªán t·∫°i:** 2025-04-15 11:00:01
> **Ng∆∞·ªùi d√πng:** phamtiendungcw

## üìã T·ªïng quan c√°c b·∫£ng

D∆∞·ªõi ƒë√¢y l√† c√°c b·∫£ng d·ªØ li·ªáu ƒë∆∞·ª£c thi·∫øt k·∫ø cho ZPX eCommerce platform:

1. **Identity Tables** - Qu·∫£n l√Ω ng∆∞·ªùi d√πng v√† x√°c th·ª±c
2. **Core eCommerce Tables** - S·∫£n ph·∫©m, danh m·ª•c, ƒë∆°n h√†ng
3. **Customer Management Tables** - Kh√°ch h√†ng, ƒë·ªãa ch·ªâ
4. **Inventory & Stock Tables** - Qu·∫£n l√Ω h√†ng t·ªìn kho
5. **Review & Rating Tables** - ƒê√°nh gi√° s·∫£n ph·∫©m
6. **Marketing Tables** - Khuy·∫øn m√£i, m√£ gi·∫£m gi√°

## üîë Identity Tables

### 1. AspNetUsers (B·∫£ng Identity m·∫∑c ƒë·ªãnh)

| Column Name          | Data Type      | Constraints | Description             |
| -------------------- | -------------- | ----------- | ----------------------- |
| Id                   | nvarchar(450)  | PK          | ƒê·ªãnh danh ng∆∞·ªùi d√πng    |
| UserName             | nvarchar(256)  |             | T√™n ƒëƒÉng nh·∫≠p           |
| NormalizedUserName   | nvarchar(256)  |             | T√™n ƒëƒÉng nh·∫≠p chu·∫©n h√≥a |
| Email                | nvarchar(256)  |             | Email                   |
| NormalizedEmail      | nvarchar(256)  |             | Email chu·∫©n h√≥a         |
| EmailConfirmed       | bit            |             | Email ƒë√£ x√°c nh·∫≠n       |
| PasswordHash         | nvarchar(max)  |             | M·∫≠t kh·∫©u ƒë√£ hash        |
| SecurityStamp        | nvarchar(max)  |             | D√πng cho b·∫£o m·∫≠t        |
| ConcurrencyStamp     | nvarchar(max)  |             | Ki·ªÉm so√°t ƒë·ªìng th·ªùi     |
| PhoneNumber          | nvarchar(max)  |             | S·ªë ƒëi·ªán tho·∫°i           |
| PhoneNumberConfirmed | bit            |             | SƒêT ƒë√£ x√°c nh·∫≠n         |
| TwoFactorEnabled     | bit            |             | X√°c th·ª±c 2 y·∫øu t·ªë       |
| LockoutEnd           | datetimeoffset |             | Th·ªùi gian kh√≥a h·∫øt h·∫°n  |
| LockoutEnabled       | bit            |             | Kh√≥a t√†i kho·∫£n          |
| AccessFailedCount    | int            |             | S·ªë l·∫ßn ƒëƒÉng nh·∫≠p sai    |
| FirstName            | nvarchar(100)  |             | T√™n                     |
| LastName             | nvarchar(100)  |             | H·ªç                      |
| ProfilePictureUrl    | nvarchar(500)  |             | URL ·∫£nh ƒë·∫°i di·ªán        |

### 2. AspNetRoles

| Column Name      | Data Type     | Constraints | Description           |
| ---------------- | ------------- | ----------- | --------------------- |
| Id               | nvarchar(450) | PK          | ƒê·ªãnh danh vai tr√≤     |
| Name             | nvarchar(256) |             | T√™n vai tr√≤           |
| NormalizedName   | nvarchar(256) |             | T√™n vai tr√≤ chu·∫©n h√≥a |
| ConcurrencyStamp | nvarchar(max) |             | Ki·ªÉm so√°t ƒë·ªìng th·ªùi   |

### 3. AspNetUserRoles

| Column Name | Data Type     | Constraints | Description   |
| ----------- | ------------- | ----------- | ------------- |
| UserId      | nvarchar(450) | PK, FK      | ID ng∆∞·ªùi d√πng |
| RoleId      | nvarchar(450) | PK, FK      | ID vai tr√≤    |

### 4. AspNetUserClaims, AspNetRoleClaims, AspNetUserLogins, AspNetUserTokens

\*(C√°c b·∫£ng Identity kh√°c theo chu·∫©n)\_

## üõí Core eCommerce Tables

### 5. Products

| Column Name           | Data Type        | Constraints          | Description                |
| --------------------- | ---------------- | -------------------- | -------------------------- |
| Id                    | uniqueidentifier | PK                   | ƒê·ªãnh danh s·∫£n ph·∫©m         |
| Name                  | nvarchar(200)    | NOT NULL             | T√™n s·∫£n ph·∫©m               |
| Description           | nvarchar(max)    |                      | M√¥ t·∫£ s·∫£n ph·∫©m             |
| ShortDescription      | nvarchar(500)    |                      | M√¥ t·∫£ ng·∫Øn                 |
| Price                 | decimal(18,2)    | NOT NULL             | Gi√°                        |
| OldPrice              | decimal(18,2)    |                      | Gi√° c≈© (khi gi·∫£m gi√°)      |
| SpecialPrice          | decimal(18,2)    |                      | Gi√° ƒë·∫∑c bi·ªát               |
| SpecialPriceStartDate | datetime2        |                      | Ng√†y b·∫Øt ƒë·∫ßu gi√° ƒë·∫∑c bi·ªát  |
| SpecialPriceEndDate   | datetime2        |                      | Ng√†y k·∫øt th√∫c gi√° ƒë·∫∑c bi·ªát |
| StockQuantity         | int              | NOT NULL, DEFAULT(0) | S·ªë l∆∞·ª£ng t·ªìn kho           |
| Weight                | decimal(18,4)    |                      | Tr·ªçng l∆∞·ª£ng                |
| Length                | decimal(18,4)    |                      | Chi·ªÅu d√†i                  |
| Width                 | decimal(18,4)    |                      | Chi·ªÅu r·ªông                 |
| Height                | decimal(18,4)    |                      | Chi·ªÅu cao                  |
| Sku                   | nvarchar(100)    |                      | Stock Keeping Unit         |
| Gtin                  | nvarchar(100)    |                      | Global Trade Item Number   |
| CategoryId            | uniqueidentifier | FK                   | ID danh m·ª•c                |
| BrandId               | uniqueidentifier | FK                   | ID th∆∞∆°ng hi·ªáu             |
| IsActive              | bit              | NOT NULL, DEFAULT(1) | Tr·∫°ng th√°i k√≠ch ho·∫°t       |
| IsFeatured            | bit              | NOT NULL, DEFAULT(0) | S·∫£n ph·∫©m n·ªïi b·∫≠t           |
| CreatedAt             | datetime2        | NOT NULL             | Ng√†y t·∫°o                   |
| CreatedBy             | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o                  |
| ModifiedAt            | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi               |
| ModifiedBy            | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi              |

### 6. ProductImages

| Column Name  | Data Type        | Constraints          | Description      |
| ------------ | ---------------- | -------------------- | ---------------- |
| Id           | uniqueidentifier | PK                   | ƒê·ªãnh danh ·∫£nh    |
| ProductId    | uniqueidentifier | FK, NOT NULL         | ID s·∫£n ph·∫©m      |
| ImageUrl     | nvarchar(500)    | NOT NULL             | URL ·∫£nh          |
| AltText      | nvarchar(200)    |                      | VƒÉn b·∫£n thay th·∫ø |
| DisplayOrder | int              | NOT NULL, DEFAULT(0) | Th·ª© t·ª± hi·ªÉn th·ªã  |
| IsMain       | bit              | NOT NULL, DEFAULT(0) | ·∫¢nh ch√≠nh        |
| CreatedAt    | datetime2        | NOT NULL             | Ng√†y t·∫°o         |
| CreatedBy    | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o        |

### 7. ProductAttributes

| Column Name    | Data Type        | Constraints          | Description          |
| -------------- | ---------------- | -------------------- | -------------------- |
| Id             | uniqueidentifier | PK                   | ƒê·ªãnh danh thu·ªôc t√≠nh |
| ProductId      | uniqueidentifier | FK, NOT NULL         | ID s·∫£n ph·∫©m          |
| AttributeName  | nvarchar(100)    | NOT NULL             | T√™n thu·ªôc t√≠nh       |
| AttributeValue | nvarchar(500)    | NOT NULL             | Gi√° tr·ªã thu·ªôc t√≠nh   |
| DisplayOrder   | int              | NOT NULL, DEFAULT(0) | Th·ª© t·ª± hi·ªÉn th·ªã      |
| CreatedAt      | datetime2        | NOT NULL             | Ng√†y t·∫°o             |
| CreatedBy      | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o            |

### 8. Categories

| Column Name     | Data Type        | Constraints          | Description          |
| --------------- | ---------------- | -------------------- | -------------------- |
| Id              | uniqueidentifier | PK                   | ƒê·ªãnh danh danh m·ª•c   |
| Name            | nvarchar(200)    | NOT NULL             | T√™n danh m·ª•c         |
| Description     | nvarchar(500)    |                      | M√¥ t·∫£                |
| ParentId        | uniqueidentifier | FK                   | ID danh m·ª•c cha      |
| DisplayOrder    | int              | NOT NULL, DEFAULT(0) | Th·ª© t·ª± hi·ªÉn th·ªã      |
| IsActive        | bit              | NOT NULL, DEFAULT(1) | Tr·∫°ng th√°i k√≠ch ho·∫°t |
| ImageUrl        | nvarchar(500)    |                      | URL h√¨nh ·∫£nh         |
| Slug            | nvarchar(200)    | NOT NULL             | URL th√¢n thi·ªán       |
| MetaTitle       | nvarchar(200)    |                      | Ti√™u ƒë·ªÅ SEO          |
| MetaKeywords    | nvarchar(500)    |                      | T·ª´ kh√≥a SEO          |
| MetaDescription | nvarchar(500)    |                      | M√¥ t·∫£ SEO            |
| CreatedAt       | datetime2        | NOT NULL             | Ng√†y t·∫°o             |
| CreatedBy       | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o            |
| ModifiedAt      | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi         |
| ModifiedBy      | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi        |

### 9. Brands

| Column Name  | Data Type        | Constraints          | Description           |
| ------------ | ---------------- | -------------------- | --------------------- |
| Id           | uniqueidentifier | PK                   | ƒê·ªãnh danh th∆∞∆°ng hi·ªáu |
| Name         | nvarchar(200)    | NOT NULL             | T√™n th∆∞∆°ng hi·ªáu       |
| Description  | nvarchar(500)    |                      | M√¥ t·∫£                 |
| LogoUrl      | nvarchar(500)    |                      | URL logo              |
| IsActive     | bit              | NOT NULL, DEFAULT(1) | Tr·∫°ng th√°i k√≠ch ho·∫°t  |
| DisplayOrder | int              | NOT NULL, DEFAULT(0) | Th·ª© t·ª± hi·ªÉn th·ªã       |
| Slug         | nvarchar(200)    | NOT NULL             | URL th√¢n thi·ªán        |
| CreatedAt    | datetime2        | NOT NULL             | Ng√†y t·∫°o              |
| CreatedBy    | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o             |
| ModifiedAt   | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi          |
| ModifiedBy   | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi         |

### 10. Orders

| Column Name       | Data Type        | Constraints          | Description            |
| ----------------- | ---------------- | -------------------- | ---------------------- |
| Id                | uniqueidentifier | PK                   | ƒê·ªãnh danh ƒë∆°n h√†ng     |
| OrderNumber       | nvarchar(50)     | NOT NULL             | S·ªë ƒë∆°n h√†ng            |
| CustomerId        | uniqueidentifier | FK, NOT NULL         | ID kh√°ch h√†ng          |
| OrderDate         | datetime2        | NOT NULL             | Ng√†y ƒë·∫∑t h√†ng          |
| OrderStatusId     | int              | NOT NULL             | Tr·∫°ng th√°i ƒë∆°n h√†ng    |
| ShippingAddressId | uniqueidentifier | FK, NOT NULL         | ƒê·ªãa ch·ªâ giao h√†ng      |
| BillingAddressId  | uniqueidentifier | FK                   | ƒê·ªãa ch·ªâ thanh to√°n     |
| PaymentMethodId   | int              |                      | Ph∆∞∆°ng th·ª©c thanh to√°n |
| ShippingMethodId  | int              |                      | Ph∆∞∆°ng th·ª©c v·∫≠n chuy·ªÉn |
| SubTotal          | decimal(18,2)    | NOT NULL             | T·ªïng ti·ªÅn h√†ng         |
| ShippingCost      | decimal(18,2)    | NOT NULL, DEFAULT(0) | Ph√≠ v·∫≠n chuy·ªÉn         |
| TaxAmount         | decimal(18,2)    | NOT NULL, DEFAULT(0) | Thu·∫ø                   |
| DiscountAmount    | decimal(18,2)    | NOT NULL, DEFAULT(0) | Gi·∫£m gi√°               |
| TotalAmount       | decimal(18,2)    | NOT NULL             | T·ªïng c·ªông              |
| Notes             | nvarchar(max)    |                      | Ghi ch√∫                |
| CouponCode        | nvarchar(50)     |                      | M√£ gi·∫£m gi√°            |
| CreatedAt         | datetime2        | NOT NULL             | Ng√†y t·∫°o               |
| CreatedBy         | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o              |
| ModifiedAt        | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi           |
| ModifiedBy        | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi          |

### 11. OrderItems

| Column Name | Data Type        | Constraints  | Description            |
| ----------- | ---------------- | ------------ | ---------------------- |
| Id          | uniqueidentifier | PK           | ƒê·ªãnh danh m·ª•c ƒë∆°n h√†ng |
| OrderId     | uniqueidentifier | FK, NOT NULL | ID ƒë∆°n h√†ng            |
| ProductId   | uniqueidentifier | FK, NOT NULL | ID s·∫£n ph·∫©m            |
| Quantity    | int              | NOT NULL     | S·ªë l∆∞·ª£ng               |
| UnitPrice   | decimal(18,2)    | NOT NULL     | ƒê∆°n gi√°                |
| TotalPrice  | decimal(18,2)    | NOT NULL     | Th√†nh ti·ªÅn             |
| ProductName | nvarchar(200)    | NOT NULL     | T√™n s·∫£n ph·∫©m           |
| SKU         | nvarchar(100)    |              | M√£ SKU                 |
| CreatedAt   | datetime2        | NOT NULL     | Ng√†y t·∫°o               |

### 12. OrderStatuses

| Column Name  | Data Type     | Constraints | Description          |
| ------------ | ------------- | ----------- | -------------------- |
| Id           | int           | PK          | ƒê·ªãnh danh tr·∫°ng th√°i |
| Name         | nvarchar(50)  | NOT NULL    | T√™n tr·∫°ng th√°i       |
| Description  | nvarchar(200) |             | M√¥ t·∫£                |
| DisplayOrder | int           | NOT NULL    | Th·ª© t·ª± hi·ªÉn th·ªã      |

### 13. PaymentMethods

| Column Name        | Data Type     | Constraints          | Description             |
| ------------------ | ------------- | -------------------- | ----------------------- |
| Id                 | int           | PK                   | ƒê·ªãnh danh ph∆∞∆°ng th·ª©c   |
| Name               | nvarchar(100) | NOT NULL             | T√™n ph∆∞∆°ng th·ª©c         |
| Description        | nvarchar(500) |                      | M√¥ t·∫£                   |
| IsActive           | bit           | NOT NULL, DEFAULT(1) | Tr·∫°ng th√°i k√≠ch ho·∫°t    |
| DisplayOrder       | int           | NOT NULL             | Th·ª© t·ª± hi·ªÉn th·ªã         |
| AdditionalSettings | nvarchar(max) |                      | C·∫•u h√¨nh b·ªï sung (JSON) |

### 14. ShippingMethods

| Column Name     | Data Type     | Constraints          | Description              |
| --------------- | ------------- | -------------------- | ------------------------ |
| Id              | int           | PK                   | ƒê·ªãnh danh ph∆∞∆°ng th·ª©c    |
| Name            | nvarchar(100) | NOT NULL             | T√™n ph∆∞∆°ng th·ª©c          |
| Description     | nvarchar(500) |                      | M√¥ t·∫£                    |
| Price           | decimal(18,2) | NOT NULL             | Gi√°                      |
| DeliveryTimeMin | int           |                      | Th·ªùi gian giao t·ªëi thi·ªÉu |
| DeliveryTimeMax | int           |                      | Th·ªùi gian giao t·ªëi ƒëa    |
| IsActive        | bit           | NOT NULL, DEFAULT(1) | Tr·∫°ng th√°i k√≠ch ho·∫°t     |
| DisplayOrder    | int           | NOT NULL             | Th·ª© t·ª± hi·ªÉn th·ªã          |

## üë• Customer Management Tables

### 15. Customers

| Column Name              | Data Type        | Constraints          | Description                    |
| ------------------------ | ---------------- | -------------------- | ------------------------------ |
| Id                       | uniqueidentifier | PK                   | ƒê·ªãnh danh kh√°ch h√†ng           |
| UserId                   | nvarchar(450)    | FK                   | ID ng∆∞·ªùi d√πng (n·∫øu ƒë√£ ƒëƒÉng k√Ω) |
| FirstName                | nvarchar(100)    | NOT NULL             | T√™n                            |
| LastName                 | nvarchar(100)    | NOT NULL             | H·ªç                             |
| Email                    | nvarchar(256)    | NOT NULL             | Email                          |
| PhoneNumber              | nvarchar(20)     |                      | S·ªë ƒëi·ªán tho·∫°i                  |
| DateOfBirth              | date             |                      | Ng√†y sinh                      |
| Gender                   | nvarchar(10)     |                      | Gi·ªõi t√≠nh                      |
| CustomerTypeId           | int              |                      | Lo·∫°i kh√°ch h√†ng                |
| IsSubscribedToNewsletter | bit              | NOT NULL, DEFAULT(0) | ƒêƒÉng k√Ω newsletter             |
| CreatedAt                | datetime2        | NOT NULL             | Ng√†y t·∫°o                       |
| CreatedBy                | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o                      |
| ModifiedAt               | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi                   |
| ModifiedBy               | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi                  |

### 16. Addresses

| Column Name       | Data Type        | Constraints          | Description                 |
| ----------------- | ---------------- | -------------------- | --------------------------- |
| Id                | uniqueidentifier | PK                   | ƒê·ªãnh danh ƒë·ªãa ch·ªâ           |
| CustomerId        | uniqueidentifier | FK, NOT NULL         | ID kh√°ch h√†ng               |
| FirstName         | nvarchar(100)    | NOT NULL             | T√™n                         |
| LastName          | nvarchar(100)    | NOT NULL             | H·ªç                          |
| AddressLine1      | nvarchar(200)    | NOT NULL             | ƒê·ªãa ch·ªâ d√≤ng 1              |
| AddressLine2      | nvarchar(200)    |                      | ƒê·ªãa ch·ªâ d√≤ng 2              |
| City              | nvarchar(100)    | NOT NULL             | Th√†nh ph·ªë                   |
| State             | nvarchar(100)    |                      | T·ªânh/Bang                   |
| PostalCode        | nvarchar(20)     |                      | M√£ b∆∞u ƒëi·ªán                 |
| CountryId         | int              | NOT NULL             | ID qu·ªëc gia                 |
| PhoneNumber       | nvarchar(20)     |                      | S·ªë ƒëi·ªán tho·∫°i               |
| IsDefaultShipping | bit              | NOT NULL, DEFAULT(0) | ƒê·ªãa ch·ªâ giao h√†ng m·∫∑c ƒë·ªãnh  |
| IsDefaultBilling  | bit              | NOT NULL, DEFAULT(0) | ƒê·ªãa ch·ªâ thanh to√°n m·∫∑c ƒë·ªãnh |
| CreatedAt         | datetime2        | NOT NULL             | Ng√†y t·∫°o                    |
| CreatedBy         | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o                   |
| ModifiedAt        | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi                |
| ModifiedBy        | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi               |

### 17. Countries

| Column Name  | Data Type     | Constraints          | Description          |
| ------------ | ------------- | -------------------- | -------------------- |
| Id           | int           | PK                   | ƒê·ªãnh danh qu·ªëc gia   |
| Name         | nvarchar(100) | NOT NULL             | T√™n qu·ªëc gia         |
| IsoCode      | nvarchar(2)   | NOT NULL             | M√£ ISO2              |
| IsoCode3     | nvarchar(3)   |                      | M√£ ISO3              |
| IsActive     | bit           | NOT NULL, DEFAULT(1) | Tr·∫°ng th√°i k√≠ch ho·∫°t |
| DisplayOrder | int           | NOT NULL             | Th·ª© t·ª± hi·ªÉn th·ªã      |

### 18. CustomerTypes

| Column Name        | Data Type     | Constraints | Description               |
| ------------------ | ------------- | ----------- | ------------------------- |
| Id                 | int           | PK          | ƒê·ªãnh danh lo·∫°i kh√°ch h√†ng |
| Name               | nvarchar(100) | NOT NULL    | T√™n lo·∫°i                  |
| Description        | nvarchar(500) |             | M√¥ t·∫£                     |
| DiscountPercentage | decimal(5,2)  |             | % gi·∫£m gi√° m·∫∑c ƒë·ªãnh       |

## üì¶ Inventory & Stock Tables

### 19. Inventory

| Column Name      | Data Type        | Constraints          | Description        |
| ---------------- | ---------------- | -------------------- | ------------------ |
| Id               | uniqueidentifier | PK                   | ƒê·ªãnh danh kho      |
| ProductId        | uniqueidentifier | FK, NOT NULL         | ID s·∫£n ph·∫©m        |
| WarehouseId      | uniqueidentifier | FK, NOT NULL         | ID kho h√†ng        |
| StockQuantity    | int              | NOT NULL             | S·ªë l∆∞·ª£ng t·ªìn       |
| ReservedQuantity | int              | NOT NULL, DEFAULT(0) | S·ªë l∆∞·ª£ng ƒë·∫∑t tr∆∞·ªõc |
| CreatedAt        | datetime2        | NOT NULL             | Ng√†y t·∫°o           |
| CreatedBy        | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o          |
| ModifiedAt       | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi       |
| ModifiedBy       | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi      |

### 20. InventoryHistory

| Column Name    | Data Type        | Constraints  | Description       |
| -------------- | ---------------- | ------------ | ----------------- |
| Id             | uniqueidentifier | PK           | ƒê·ªãnh danh l·ªãch s·ª≠ |
| ProductId      | uniqueidentifier | FK, NOT NULL | ID s·∫£n ph·∫©m       |
| WarehouseId    | uniqueidentifier | FK, NOT NULL | ID kho h√†ng       |
| QuantityChange | int              | NOT NULL     | Thay ƒë·ªïi s·ªë l∆∞·ª£ng |
| QuantityBefore | int              | NOT NULL     | S·ªë l∆∞·ª£ng tr∆∞·ªõc    |
| QuantityAfter  | int              | NOT NULL     | S·ªë l∆∞·ª£ng sau      |
| Note           | nvarchar(500)    |              | Ghi ch√∫           |
| ReferenceType  | nvarchar(50)     |              | Lo·∫°i tham chi·∫øu   |
| ReferenceId    | nvarchar(128)    |              | ID tham chi·∫øu     |
| CreatedAt      | datetime2        | NOT NULL     | Ng√†y t·∫°o          |
| CreatedBy      | nvarchar(450)    | NOT NULL     | Ng∆∞·ªùi t·∫°o         |

### 21. Warehouses

| Column Name  | Data Type        | Constraints          | Description          |
| ------------ | ---------------- | -------------------- | -------------------- |
| Id           | uniqueidentifier | PK                   | ƒê·ªãnh danh kho h√†ng   |
| Name         | nvarchar(200)    | NOT NULL             | T√™n kho h√†ng         |
| AddressLine1 | nvarchar(200)    | NOT NULL             | ƒê·ªãa ch·ªâ d√≤ng 1       |
| AddressLine2 | nvarchar(200)    |                      | ƒê·ªãa ch·ªâ d√≤ng 2       |
| City         | nvarchar(100)    | NOT NULL             | Th√†nh ph·ªë            |
| State        | nvarchar(100)    |                      | T·ªânh/Bang            |
| PostalCode   | nvarchar(20)     |                      | M√£ b∆∞u ƒëi·ªán          |
| CountryId    | int              | NOT NULL             | ID qu·ªëc gia          |
| PhoneNumber  | nvarchar(20)     |                      | S·ªë ƒëi·ªán tho·∫°i        |
| Email        | nvarchar(256)    |                      | Email                |
| IsActive     | bit              | NOT NULL, DEFAULT(1) | Tr·∫°ng th√°i k√≠ch ho·∫°t |
| CreatedAt    | datetime2        | NOT NULL             | Ng√†y t·∫°o             |
| CreatedBy    | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o            |
| ModifiedAt   | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi         |
| ModifiedBy   | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi        |

## ‚≠ê Review & Rating Tables

### 22. ProductReviews

| Column Name        | Data Type        | Constraints          | Description          |
| ------------------ | ---------------- | -------------------- | -------------------- |
| Id                 | uniqueidentifier | PK                   | ƒê·ªãnh danh ƒë√°nh gi√°   |
| ProductId          | uniqueidentifier | FK, NOT NULL         | ID s·∫£n ph·∫©m          |
| CustomerId         | uniqueidentifier | FK, NOT NULL         | ID kh√°ch h√†ng        |
| OrderItemId        | uniqueidentifier | FK                   | ID m·ª•c ƒë∆°n h√†ng      |
| Rating             | int              | NOT NULL             | ƒêi·ªÉm ƒë√°nh gi√° (1-5)  |
| ReviewText         | nvarchar(max)    |                      | N·ªôi dung ƒë√°nh gi√°    |
| Title              | nvarchar(200)    |                      | Ti√™u ƒë·ªÅ ƒë√°nh gi√°     |
| IsApproved         | bit              | NOT NULL, DEFAULT(0) | ƒê√£ duy·ªát             |
| IsVerifiedPurchase | bit              | NOT NULL, DEFAULT(0) | ƒê√£ x√°c minh mua h√†ng |
| CreatedAt          | datetime2        | NOT NULL             | Ng√†y t·∫°o             |
| CreatedBy          | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o            |
| ModifiedAt         | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi         |
| ModifiedBy         | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi        |

### 23. ReviewHelpfulness

| Column Name | Data Type        | Constraints  | Description   |
| ----------- | ---------------- | ------------ | ------------- |
| Id          | uniqueidentifier | PK           | ƒê·ªãnh danh     |
| ReviewId    | uniqueidentifier | FK, NOT NULL | ID ƒë√°nh gi√°   |
| CustomerId  | uniqueidentifier | FK, NOT NULL | ID kh√°ch h√†ng |
| IsHelpful   | bit              | NOT NULL     | C√≥ h·ªØu √≠ch    |
| CreatedAt   | datetime2        | NOT NULL     | Ng√†y t·∫°o      |

## üì¢ Marketing Tables

### 24. Discounts

| Column Name           | Data Type        | Constraints          | Description                |
| --------------------- | ---------------- | -------------------- | -------------------------- |
| Id                    | uniqueidentifier | PK                   | ƒê·ªãnh danh gi·∫£m gi√°         |
| Name                  | nvarchar(200)    | NOT NULL             | T√™n ch∆∞∆°ng tr√¨nh           |
| Description           | nvarchar(500)    |                      | M√¥ t·∫£                      |
| DiscountType          | int              | NOT NULL             | Lo·∫°i gi·∫£m gi√°              |
| DiscountValue         | decimal(18,2)    | NOT NULL             | Gi√° tr·ªã gi·∫£m gi√°           |
| MinimumOrderAmount    | decimal(18,2)    |                      | Gi√° tr·ªã ƒë∆°n h√†ng t·ªëi thi·ªÉu |
| MaximumDiscountAmount | decimal(18,2)    |                      | Gi·∫£m gi√° t·ªëi ƒëa            |
| StartDate             | datetime2        | NOT NULL             | Ng√†y b·∫Øt ƒë·∫ßu               |
| EndDate               | datetime2        |                      | Ng√†y k·∫øt th√∫c              |
| CouponCode            | nvarchar(50)     |                      | M√£ gi·∫£m gi√°                |
| UsesPerCustomer       | int              |                      | S·ªë l·∫ßn s·ª≠ d·ª•ng/KH          |
| UsesPerCoupon         | int              |                      | T·ªïng s·ªë l·∫ßn s·ª≠ d·ª•ng        |
| IsActive              | bit              | NOT NULL, DEFAULT(1) | Tr·∫°ng th√°i k√≠ch ho·∫°t       |
| CreatedAt             | datetime2        | NOT NULL             | Ng√†y t·∫°o                   |
| CreatedBy             | nvarchar(450)    |                      | Ng∆∞·ªùi t·∫°o                  |
| ModifiedAt            | datetime2        |                      | Ng√†y s·ª≠a ƒë·ªïi               |
| ModifiedBy            | nvarchar(450)    |                      | Ng∆∞·ªùi s·ª≠a ƒë·ªïi              |

### 25. DiscountUsageHistory

| Column Name | Data Type        | Constraints  | Description   |
| ----------- | ---------------- | ------------ | ------------- |
| Id          | uniqueidentifier | PK           | ƒê·ªãnh danh     |
| DiscountId  | uniqueidentifier | FK, NOT NULL | ID gi·∫£m gi√°   |
| OrderId     | uniqueidentifier | FK, NOT NULL | ID ƒë∆°n h√†ng   |
| CustomerId  | uniqueidentifier | FK, NOT NULL | ID kh√°ch h√†ng |
| CreatedAt   | datetime2        | NOT NULL     | Ng√†y t·∫°o      |

## üíª Logging & Audit Tables

### 26. AuditLogs

| Column Name | Data Type        | Constraints | Description   |
| ----------- | ---------------- | ----------- | ------------- |
| Id          | uniqueidentifier | PK          | ƒê·ªãnh danh log |
| UserId      | nvarchar(450)    |             | ID ng∆∞·ªùi d√πng |
| EntityName  | nvarchar(100)    | NOT NULL    | T√™n entity    |
| EntityId    | nvarchar(128)    | NOT NULL    | ID entity     |
| Action      | nvarchar(50)     | NOT NULL    | H√†nh ƒë·ªông     |
| OldValues   | nvarchar(max)    |             | Gi√° tr·ªã c≈©    |
| NewValues   | nvarchar(max)    |             | Gi√° tr·ªã m·ªõi   |
| ClientIp    | nvarchar(50)     |             | ƒê·ªãa ch·ªâ IP    |
| CreatedAt   | datetime2        | NOT NULL    | Th·ªùi gian     |

### 27. ActivityLogs

| Column Name  | Data Type        | Constraints | Description          |
| ------------ | ---------------- | ----------- | -------------------- |
| Id           | uniqueidentifier | PK          | ƒê·ªãnh danh log        |
| UserId       | nvarchar(450)    |             | ID ng∆∞·ªùi d√πng        |
| ActivityType | nvarchar(100)    | NOT NULL    | Lo·∫°i ho·∫°t ƒë·ªông       |
| Description  | nvarchar(500)    |             | M√¥ t·∫£                |
| EntityName   | nvarchar(100)    |             | T√™n entity           |
| EntityId     | nvarchar(128)    |             | ID entity            |
| IpAddress    | nvarchar(50)     |             | ƒê·ªãa ch·ªâ IP           |
| UserAgent    | nvarchar(500)    |             | Tr√¨nh duy·ªát/thi·∫øt b·ªã |
| CreatedAt    | datetime2        | NOT NULL    | Th·ªùi gian            |

## üìä M·ªëi quan h·ªá ch√≠nh

1. **Products** ‚Üî **Categories**: M·ªói s·∫£n ph·∫©m thu·ªôc m·ªôt danh m·ª•c
2. **Products** ‚Üî **Brands**: M·ªói s·∫£n ph·∫©m thu·ªôc m·ªôt th∆∞∆°ng hi·ªáu
3. **Products** ‚Üî **ProductImages**: M·ªôt s·∫£n ph·∫©m c√≥ nhi·ªÅu h√¨nh ·∫£nh
4. **Products** ‚Üî **ProductAttributes**: M·ªôt s·∫£n ph·∫©m c√≥ nhi·ªÅu thu·ªôc t√≠nh
5. **Products** ‚Üî **Inventory**: M·ªôt s·∫£n ph·∫©m c√≥ nhi·ªÅu b·∫£n ghi t·ªìn kho
6. **Products** ‚Üî **OrderItems**: M·ªôt s·∫£n ph·∫©m c√≥ th·ªÉ xu·∫•t hi·ªán trong nhi·ªÅu ƒë∆°n h√†ng
7. **Orders** ‚Üî **OrderItems**: M·ªôt ƒë∆°n h√†ng c√≥ nhi·ªÅu m·ª•c
8. **Orders** ‚Üî **Customers**: M·ªói ƒë∆°n h√†ng thu·ªôc v·ªÅ m·ªôt kh√°ch h√†ng
9. **Customers** ‚Üî **Addresses**: M·ªôt kh√°ch h√†ng c√≥ nhi·ªÅu ƒë·ªãa ch·ªâ
10. **Customers** ‚Üî **AspNetUsers**: M·ªôt kh√°ch h√†ng c√≥ th·ªÉ li√™n k·∫øt v·ªõi m·ªôt t√†i kho·∫£n

---
